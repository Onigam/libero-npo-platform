<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Libero — Tableau de bord</title>
  <link rel="stylesheet" href="shared/tokens.css">
  <link rel="stylesheet" href="shared/base.css">
  <style>
    /* ── Dashboard-specific layout ── */
    .dashboard-grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: var(--space-6);
      margin-top: var(--space-6);
    }

    .dashboard-col {
      display: flex;
      flex-direction: column;
      gap: var(--space-6);
    }

    /* ── Campaign row inside card ── */
    .campaign-row {
      display: flex;
      align-items: center;
      gap: var(--space-4);
      padding: var(--space-4) 0;
      border-bottom: 1px solid var(--color-neutral-100);
    }

    .campaign-row:last-child {
      border-bottom: none;
      padding-bottom: 0;
    }

    .campaign-row:first-child {
      padding-top: 0;
    }

    .campaign-info {
      flex: 1;
      min-width: 0;
    }

    .campaign-name {
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
      color: var(--color-text);
      margin-bottom: var(--space-1);
    }

    .campaign-amounts {
      font-size: var(--text-xs);
      color: var(--color-text-secondary);
      font-family: var(--font-mono);
      margin-bottom: var(--space-2);
    }

    .campaign-progress-row {
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }

    .campaign-progress-bar {
      flex: 1;
    }

    .campaign-pct {
      font-size: var(--text-xs);
      font-weight: var(--weight-semi);
      color: var(--color-text-secondary);
      min-width: 32px;
      text-align: right;
    }

    .campaign-badge {
      flex-shrink: 0;
    }

    /* ── Deadline row ── */
    .deadline-row {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: var(--space-3);
      padding: var(--space-3) 0;
      border-bottom: 1px solid var(--color-neutral-100);
    }

    .deadline-row:last-child {
      border-bottom: none;
      padding-bottom: 0;
    }

    .deadline-row:first-child {
      padding-top: 0;
    }

    .deadline-info {
      flex: 1;
      min-width: 0;
    }

    .deadline-title {
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
      color: var(--color-text);
    }

    .deadline-org {
      font-size: var(--text-xs);
      color: var(--color-text-secondary);
      margin-top: var(--space-0-5);
    }

    .deadline-right {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: var(--space-1);
      flex-shrink: 0;
    }

    .deadline-date {
      font-size: var(--text-xs);
      color: var(--color-text-secondary);
    }

    /* ── AI card override for full-width in sidebar column ── */
    .dashboard-col .ai-card {
      max-width: 100%;
    }

    /* ── Topbar search shortcut badge ── */
    .search-shortcut {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      background: var(--color-neutral-100);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      padding: 1px 6px;
      font-family: var(--font-mono);
      pointer-events: none;
    }

    .topbar-search {
      position: relative;
    }

    /* ── Sidebar org logo ── */
    .sidebar-footer-org-logo {
      width: 32px;
      height: 32px;
      background: rgba(255,255,255,0.15);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--text-xs);
      font-weight: var(--weight-bold);
      flex-shrink: 0;
    }

    /* ── Responsive ── */
    @media (max-width: 1024px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="app-layout">

    <!-- ============================================================
         SIDEBAR
         ============================================================ -->
    <aside class="sidebar">
      <!-- Brand -->
      <a href="dashboard.html" class="sidebar-brand" style="text-decoration:none;color:inherit;">
        <div class="sidebar-brand-logo">L</div>
        <span class="sidebar-brand-text">Libero</span>
      </a>

      <!-- Navigation -->
      <nav class="sidebar-nav">
        <a href="#" class="nav-item active">
          <span class="nav-item-icon">&#9634;</span>
          <span class="nav-item-label">Dashboard</span>
        </a>
        <a href="constituents/list.html" class="nav-item">
          <span class="nav-item-icon">&#9775;</span>
          <span class="nav-item-label">Constituants</span>
        </a>
        <a href="donations/list.html" class="nav-item">
          <span class="nav-item-icon">&#9829;</span>
          <span class="nav-item-label">Dons &amp; Campagnes</span>
        </a>
        <a href="grants/kanban.html" class="nav-item">
          <span class="nav-item-icon">&#9733;</span>
          <span class="nav-item-label">Subventions</span>
        </a>
        <a href="programs/list.html" class="nav-item">
          <span class="nav-item-icon">&#9670;</span>
          <span class="nav-item-label">Programmes</span>
        </a>
        <a href="volunteers/list.html" class="nav-item">
          <span class="nav-item-icon">&#9996;</span>
          <span class="nav-item-label">B&#233;n&#233;voles</span>
        </a>
        <a href="impact/dashboard.html" class="nav-item">
          <span class="nav-item-icon">&#9678;</span>
          <span class="nav-item-label">Impact</span>
        </a>
        <a href="communications/list.html" class="nav-item">
          <span class="nav-item-icon">&#9993;</span>
          <span class="nav-item-label">Communications</span>
        </a>
        <a href="reports/library.html" class="nav-item">
          <span class="nav-item-icon">&#9776;</span>
          <span class="nav-item-label">Rapports</span>
        </a>
        <a href="admin/organization.html" class="nav-item">
          <span class="nav-item-icon">&#9881;</span>
          <span class="nav-item-label">Param&#232;tres</span>
        </a>
      </nav>

      <!-- Footer -->
      <div class="sidebar-footer">
        <div class="sidebar-footer-org-logo">ASM</div>
        <div class="sidebar-footer-info">
          <div class="sidebar-footer-name">Association Solidarit&#233; M&#233;diterran&#233;e</div>
          <div class="sidebar-footer-role">Plan Professionnel</div>
        </div>
        <div class="sidebar-footer-avatar">CD</div>
      </div>
    </aside>

    <!-- ============================================================
         MAIN WRAPPER
         ============================================================ -->
    <div class="main-wrapper">

      <!-- ── Topbar ── -->
      <header class="topbar">
        <div class="topbar-breadcrumb">
          <span class="topbar-breadcrumb-current">Tableau de bord</span>
        </div>

        <a href="global/command-palette.html" class="topbar-search" style="text-decoration:none;color:inherit;">
          <input
            type="text"
            class="topbar-search-input"
            placeholder="Rechercher..."
          >
          <span class="search-shortcut">&#8984;K</span>
        </a>

        <div class="topbar-actions">
          <a href="global/notifications.html" class="topbar-icon-btn" title="Notifications" aria-label="Notifications" style="text-decoration:none;color:inherit;">
            &#128276;
            <span class="notification-dot"></span>
          </a>
          <a href="admin/users.html" style="text-decoration:none;color:inherit;"><div class="topbar-avatar" title="Claire Dubois">CD</div></a>
        </div>
      </header>

      <!-- ── Main Content ── -->
      <main class="main-content">

        <!-- Page Header -->
        <div class="page-header">
          <div class="page-header-left">
            <h1 class="page-title">Bonjour, Claire</h1>
            <p class="page-subtitle">Voici l'activit&#233; de votre organisation aujourd'hui.</p>
          </div>
        </div>

        <!-- ============================================================
             STAT WIDGETS (4 columns)
             ============================================================ -->
        <div class="grid-4">
          <!-- 1. Dons ce mois -->
          <a href="donations/list.html" class="stat-widget" style="text-decoration:none;color:inherit;display:block;">
            <div class="stat-widget-label">Dons ce mois</div>
            <div class="stat-widget-value">&euro;12&nbsp;450</div>
            <div class="stat-widget-trend stat-widget-trend--up">
              &#9650; +18% vs N-1
            </div>
          </a>

          <!-- 2. Constituants actifs -->
          <a href="constituents/list.html" class="stat-widget" style="text-decoration:none;color:inherit;display:block;">
            <div class="stat-widget-label">Constituants actifs</div>
            <div class="stat-widget-value">1&nbsp;247</div>
            <div class="stat-widget-trend stat-widget-trend--up">
              &#9650; +23 ce mois
            </div>
          </a>

          <!-- 3. Campagnes actives -->
          <a href="campaigns/list.html" class="stat-widget" style="text-decoration:none;color:inherit;display:block;">
            <div class="stat-widget-label">Campagnes actives</div>
            <div class="stat-widget-value">3</div>
            <div class="stat-widget-trend stat-widget-trend--up">
              dont 1 &#224; 89% de l'objectif
            </div>
          </a>

          <!-- 4. Echeances subventions -->
          <a href="grants/kanban.html" class="stat-widget" style="text-decoration:none;color:inherit;display:block;">
            <div class="stat-widget-label">&#201;ch&#233;ances subventions</div>
            <div class="stat-widget-value">2</div>
            <div class="stat-widget-trend stat-widget-trend--down">
              &#9888; dans les 7 prochains jours
            </div>
          </a>
        </div>

        <!-- ============================================================
             TWO-COLUMN DASHBOARD GRID (2/3 + 1/3)
             ============================================================ -->
        <div class="dashboard-grid">

          <!-- ──────────────────────────────────────────
               LEFT COLUMN (2/3)
               ────────────────────────────────────────── -->
          <div class="dashboard-col">

            <!-- Card: Campagnes en cours -->
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Campagnes en cours</h3>
                <a href="campaigns/list.html" class="btn btn-ghost btn-sm">Tout voir &#8594;</a>
              </div>
              <div class="card-body">

                <!-- Campaign 1 -->
                <div class="campaign-row">
                  <div class="campaign-info">
                    <a href="campaigns/detail.html" style="text-decoration:none;color:inherit;"><div class="campaign-name">Appel aux dons Hiver 2026</div></a>
                    <div class="campaign-amounts">&euro;8&nbsp;200 / &euro;15&nbsp;000</div>
                    <div class="campaign-progress-row">
                      <div class="campaign-progress-bar">
                        <div class="progress">
                          <div class="progress-fill" style="width: 55%;"></div>
                        </div>
                      </div>
                      <span class="campaign-pct">55%</span>
                    </div>
                  </div>
                  <div class="campaign-badge">
                    <span class="badge badge-success">Active</span>
                  </div>
                </div>

                <!-- Campaign 2 -->
                <div class="campaign-row">
                  <div class="campaign-info">
                    <a href="campaigns/detail.html" style="text-decoration:none;color:inherit;"><div class="campaign-name">Gala annuel 2026</div></a>
                    <div class="campaign-amounts">&euro;45&nbsp;000 / &euro;50&nbsp;000</div>
                    <div class="campaign-progress-row">
                      <div class="campaign-progress-bar">
                        <div class="progress">
                          <div class="progress-fill" style="width: 90%;"></div>
                        </div>
                      </div>
                      <span class="campaign-pct">90%</span>
                    </div>
                  </div>
                  <div class="campaign-badge">
                    <span class="badge badge-success">Active</span>
                  </div>
                </div>

                <!-- Campaign 3 -->
                <div class="campaign-row">
                  <div class="campaign-info">
                    <a href="campaigns/detail.html" style="text-decoration:none;color:inherit;"><div class="campaign-name">Urgence M&#233;diterran&#233;e</div></a>
                    <div class="campaign-amounts">&euro;3&nbsp;100 / &euro;10&nbsp;000</div>
                    <div class="campaign-progress-row">
                      <div class="campaign-progress-bar">
                        <div class="progress">
                          <div class="progress-fill" style="width: 31%;"></div>
                        </div>
                      </div>
                      <span class="campaign-pct">31%</span>
                    </div>
                  </div>
                  <div class="campaign-badge">
                    <span class="badge badge-success">Active</span>
                  </div>
                </div>

              </div>
            </div>

            <!-- Card: Activite recente -->
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Activit&#233; r&#233;cente</h3>
                <a href="donations/list.html" class="btn btn-ghost btn-sm">Tout voir &#8594;</a>
              </div>
              <div class="card-body">
                <div class="timeline">

                  <!-- Timeline: Don recu -->
                  <div class="timeline-item">
                    <div class="timeline-icon" style="background: var(--color-primary-50); color: var(--color-primary-dark);">
                      &#9829;
                    </div>
                    <div class="timeline-content">
                      <a href="donations/detail.html" style="text-decoration:none;color:inherit;"><div class="timeline-title">Don de &euro;500 re&#231;u</div></a>
                      <div class="timeline-meta">Marie-Claire Fontaine &middot; Il y a 2h</div>
                    </div>
                  </div>

                  <!-- Timeline: Nouveau constituant -->
                  <div class="timeline-item">
                    <div class="timeline-icon" style="background: var(--color-sky-50); color: var(--color-sky);">
                      &#9775;
                    </div>
                    <div class="timeline-content">
                      <a href="constituents/detail.html" style="text-decoration:none;color:inherit;"><div class="timeline-title">Nouveau constituant ajout&#233;</div></a>
                      <div class="timeline-meta">Ahmed Benali &middot; Il y a 4h</div>
                    </div>
                  </div>

                  <!-- Timeline: Rapport soumis -->
                  <div class="timeline-item">
                    <div class="timeline-icon" style="background: var(--color-amber-50); color: var(--color-amber);">
                      &#9733;
                    </div>
                    <div class="timeline-content">
                      <div class="timeline-title">Rapport soumis</div>
                      <div class="timeline-meta">Subvention Fondation Rothschild &middot; Hier</div>
                    </div>
                  </div>

                  <!-- Timeline: Campagne lancee -->
                  <div class="timeline-item">
                    <div class="timeline-icon" style="background: var(--color-primary-50); color: var(--color-primary-dark);">
                      &#9670;
                    </div>
                    <div class="timeline-content">
                      <div class="timeline-title">Campagne lanc&#233;e</div>
                      <div class="timeline-meta">Urgence M&#233;diterran&#233;e &middot; Hier</div>
                    </div>
                  </div>

                </div>
              </div>
            </div>

          </div>
          <!-- END LEFT COLUMN -->

          <!-- ──────────────────────────────────────────
               RIGHT COLUMN (1/3)
               ────────────────────────────────────────── -->
          <div class="dashboard-col">

            <!-- AI Suggestion Card -->
            <div class="ai-card">
              <div class="ai-card-header">
                <span class="ai-card-icon">&#10024;</span>
                <span class="ai-card-label">Suggestion IA</span>
              </div>
              <p class="ai-card-text">
                3 donateurs majeurs n'ont pas donn&#233; depuis 12 mois &mdash; voir la liste et envoyer un email de r&#233;activation ?
              </p>
              <div class="ai-card-actions">
                <a href="constituents/list.html" class="btn btn-primary btn-sm" style="text-decoration:none;">Appliquer</a>
                <button class="btn btn-ghost btn-sm">Ignorer</button>
              </div>
            </div>

            <!-- Card: Echeances proches -->
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">&#201;ch&#233;ances proches</h3>
              </div>
              <div class="card-body">

                <!-- Deadline 1 -->
                <a href="grants/detail.html" class="deadline-row" style="text-decoration:none;color:inherit;display:flex;">
                  <div class="deadline-info">
                    <div class="deadline-title">Rapport interm&#233;diaire</div>
                    <div class="deadline-org">Fondation de France</div>
                  </div>
                  <div class="deadline-right">
                    <span class="deadline-date">3 mars 2026</span>
                    <span class="badge badge-warning">5 jours</span>
                  </div>
                </a>

                <!-- Deadline 2 -->
                <a href="grants/detail.html" class="deadline-row" style="text-decoration:none;color:inherit;display:flex;">
                  <div class="deadline-info">
                    <div class="deadline-title">Rapport financier</div>
                    <div class="deadline-org">R&#233;gion Sud</div>
                  </div>
                  <div class="deadline-right">
                    <span class="deadline-date">7 mars 2026</span>
                    <span class="badge badge-info">9 jours</span>
                  </div>
                </a>

              </div>
            </div>

            <!-- Card: Checklist de demarrage -->
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Checklist de d&#233;marrage</h3>
              </div>
              <div class="card-body">

                <!-- Completed: Organisation configuree -->
                <div class="checklist-item completed">
                  <div class="checklist-icon">&#10003;</div>
                  <span class="checklist-text">Organisation configur&#233;e</span>
                </div>

                <!-- Completed: Equipe invitee -->
                <div class="checklist-item completed">
                  <div class="checklist-icon">&#10003;</div>
                  <span class="checklist-text">&#201;quipe invit&#233;e</span>
                </div>

                <!-- Pending: Importer constituants -->
                <a href="constituents/import.html" class="checklist-item" style="text-decoration:none;color:inherit;display:flex;">
                  <div class="checklist-icon">&#9675;</div>
                  <span class="checklist-text">Importer vos constituants</span>
                </a>

                <!-- Pending: Creer premiere campagne -->
                <a href="campaigns/new.html" class="checklist-item" style="text-decoration:none;color:inherit;display:flex;">
                  <div class="checklist-icon">&#9675;</div>
                  <span class="checklist-text">Cr&#233;er votre premi&#232;re campagne</span>
                </a>

              </div>
            </div>

          </div>
          <!-- END RIGHT COLUMN -->

        </div>
        <!-- END DASHBOARD GRID -->

      </main>
    </div>
    <!-- END MAIN WRAPPER -->

  </div>
  <!-- END APP LAYOUT -->
</body>
</html>
