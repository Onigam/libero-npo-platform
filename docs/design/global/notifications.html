<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Libero &mdash; Notifications</title>
  <link rel="stylesheet" href="../shared/tokens.css">
  <link rel="stylesheet" href="../shared/base.css">
  <style>
    /* ── Dashboard background (simplified) ── */
    .dashboard-grid-bg {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-4);
    }

    /* ── Backdrop overlay ── */
    .notifications-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.25);
      z-index: var(--z-overlay);
      opacity: 1;
      transition: opacity var(--duration-slow) var(--ease-out);
    }

    /* ── Notifications Panel ── */
    .notifications-panel {
      position: fixed;
      top: 0;
      right: 0;
      width: 400px;
      height: 100vh;
      background: var(--color-white);
      box-shadow: -8px 0 32px rgba(0, 0, 0, 0.16);
      z-index: var(--z-overlay);
      display: flex;
      flex-direction: column;
      transform: translateX(0);
      transition: transform var(--duration-slower) var(--ease-out);
    }

    /* ── Panel Header ── */
    .notifications-header {
      display: flex;
      align-items: center;
      padding: var(--space-5) var(--space-5) var(--space-4) var(--space-5);
      border-bottom: 1px solid var(--color-border);
      gap: var(--space-3);
      flex-shrink: 0;
    }

    .notifications-title {
      font-family: var(--font-heading);
      font-size: var(--text-xl);
      font-weight: var(--weight-regular);
      color: var(--color-text);
    }

    .notifications-count {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 20px;
      height: 20px;
      padding: 0 6px;
      background: var(--color-primary);
      color: var(--color-white);
      font-size: var(--text-xs);
      font-weight: var(--weight-semi);
      border-radius: var(--radius-pill);
    }

    .notifications-header-spacer {
      flex: 1;
    }

    .notifications-mark-read {
      font-size: var(--text-xs);
      color: var(--color-text-secondary);
      cursor: pointer;
      white-space: nowrap;
      text-decoration: none;
    }

    .notifications-mark-read:hover {
      color: var(--color-primary);
      text-decoration: underline;
    }

    .notifications-close {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background: transparent;
      color: var(--color-text-secondary);
      cursor: pointer;
      border-radius: var(--radius-md);
      font-size: var(--text-md);
      transition: all var(--duration-normal) var(--ease-out);
      flex-shrink: 0;
      margin-left: var(--space-2);
    }

    .notifications-close:hover {
      background: var(--color-neutral-100);
      color: var(--color-text);
    }

    /* ── Filter Tabs ── */
    .notifications-filters {
      display: flex;
      gap: var(--space-1);
      padding: var(--space-3) var(--space-5);
      border-bottom: 1px solid var(--color-border);
      flex-shrink: 0;
    }

    .notifications-filter-tab {
      padding: var(--space-1-5) var(--space-3);
      font-size: var(--text-xs);
      font-weight: var(--weight-medium);
      color: var(--color-text-secondary);
      background: transparent;
      border: 1px solid transparent;
      border-radius: var(--radius-pill);
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-out);
      font-family: var(--font-body);
      white-space: nowrap;
    }

    .notifications-filter-tab:hover {
      color: var(--color-text);
      background: var(--color-neutral-100);
    }

    .notifications-filter-tab.active {
      background: var(--color-primary-50);
      color: var(--color-primary-dark);
      border-color: var(--color-primary-100);
    }

    /* ── Notification List ── */
    .notifications-list {
      flex: 1;
      overflow-y: auto;
      padding: 0;
    }

    /* ── Notification Item ── */
    .notification-item {
      display: flex;
      align-items: flex-start;
      gap: var(--space-3);
      padding: var(--space-4) var(--space-5);
      border-bottom: 1px solid var(--color-neutral-100);
      border-left: 3px solid transparent;
      position: relative;
      transition: background var(--duration-normal) var(--ease-out);
      cursor: pointer;
    }

    .notification-item:hover {
      background: var(--color-neutral-50);
    }

    .notification-item:last-child {
      border-bottom: none;
    }

    .notification-item.unread {
      background: var(--color-neutral-50);
    }

    /* Accent colors by type */
    .notification-item.accent-amber {
      border-left-color: var(--color-amber);
    }

    .notification-item.accent-green {
      border-left-color: var(--color-primary);
    }

    .notification-item.accent-sky {
      border-left-color: var(--color-sky);
    }

    .notification-item.accent-indigo {
      border-left-color: var(--color-indigo);
    }

    /* ── Notification Icon ── */
    .notification-icon {
      width: 36px;
      height: 36px;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--text-md);
      flex-shrink: 0;
    }

    .notification-icon.icon-amber {
      background: var(--color-amber-light);
      color: var(--color-amber);
    }

    .notification-icon.icon-green {
      background: var(--color-primary-50);
      color: var(--color-primary-dark);
    }

    .notification-icon.icon-sky {
      background: var(--color-sky-light);
      color: var(--color-sky);
    }

    .notification-icon.icon-indigo {
      background: var(--color-indigo-light);
      color: var(--color-indigo);
    }

    /* ── Notification Content ── */
    .notification-content {
      flex: 1;
      min-width: 0;
    }

    .notification-content-header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: var(--space-2);
    }

    .notification-content-title {
      font-size: var(--text-sm);
      font-weight: var(--weight-semi);
      color: var(--color-text);
      line-height: var(--leading-tight);
    }

    .unread-dot {
      width: 8px;
      height: 8px;
      background: var(--color-primary);
      border-radius: var(--radius-full);
      flex-shrink: 0;
      margin-top: 4px;
    }

    .notification-content-text {
      font-size: var(--text-sm);
      color: var(--color-text-secondary);
      line-height: var(--leading-normal);
      margin-top: var(--space-1);
    }

    .notification-time {
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      margin-top: var(--space-1-5);
    }

    .notification-actions {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      margin-top: var(--space-2);
    }

    .notification-actions a {
      font-size: var(--text-xs);
      font-weight: var(--weight-medium);
      color: var(--color-primary);
      text-decoration: none;
    }

    .notification-actions a:hover {
      text-decoration: underline;
    }

    .notification-actions a.action-muted {
      color: var(--color-text-muted);
    }

    .notification-actions a.action-muted:hover {
      color: var(--color-text-secondary);
    }

    /* Read item styling */
    .notification-item.read {
      background: var(--color-white);
    }

    .notification-item.read .notification-content-title {
      font-weight: var(--weight-medium);
      color: var(--color-text-secondary);
    }

    .notification-item.read .notification-content-text {
      color: var(--color-text-muted);
    }

    /* ── Panel Footer ── */
    .notifications-footer {
      padding: var(--space-4) var(--space-5);
      border-top: 1px solid var(--color-border);
      text-align: center;
      flex-shrink: 0;
    }

    .notifications-footer a {
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
      color: var(--color-primary);
      text-decoration: none;
    }

    .notifications-footer a:hover {
      text-decoration: underline;
    }

    /* ── Active bell state in topbar ── */
    .topbar-icon-btn.bell-active {
      background: var(--color-primary-50);
      color: var(--color-primary-dark);
    }

    /* ── Topbar search shortcut badge (from dashboard) ── */
    .search-shortcut {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      background: var(--color-neutral-100);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      padding: 1px 6px;
      font-family: var(--font-mono);
      pointer-events: none;
    }

    .topbar-search {
      position: relative;
    }

    /* ── Sidebar org logo (from dashboard) ── */
    .sidebar-footer-org-logo {
      width: 32px;
      height: 32px;
      background: rgba(255,255,255,0.15);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--text-xs);
      font-weight: var(--weight-bold);
      flex-shrink: 0;
    }
  </style>
</head>
<body>
  <div class="app-layout">

    <!-- ============================================================
         SIDEBAR
         ============================================================ -->
    <aside class="sidebar">
      <!-- Brand -->
      <a href="../dashboard.html" class="sidebar-brand">
        <div class="sidebar-brand-logo">L</div>
        <span class="sidebar-brand-text">Libero</span>
      </a>

      <!-- Navigation -->
      <nav class="sidebar-nav">
        <a href="../dashboard.html" class="nav-item active">
          <span class="nav-item-icon">&#9634;</span>
          <span class="nav-item-label">Dashboard</span>
        </a>
        <a href="../constituents/list.html" class="nav-item">
          <span class="nav-item-icon">&#9775;</span>
          <span class="nav-item-label">Constituants</span>
        </a>
        <a href="../donations/list.html" class="nav-item">
          <span class="nav-item-icon">&#9829;</span>
          <span class="nav-item-label">Dons &amp; Campagnes</span>
        </a>
        <a href="../grants/kanban.html" class="nav-item">
          <span class="nav-item-icon">&#9733;</span>
          <span class="nav-item-label">Subventions</span>
        </a>
        <a href="../programs/list.html" class="nav-item">
          <span class="nav-item-icon">&#9670;</span>
          <span class="nav-item-label">Programmes</span>
        </a>
        <a href="../volunteers/list.html" class="nav-item">
          <span class="nav-item-icon">&#9996;</span>
          <span class="nav-item-label">B&#233;n&#233;voles</span>
        </a>
        <a href="../impact/dashboard.html" class="nav-item">
          <span class="nav-item-icon">&#9678;</span>
          <span class="nav-item-label">Impact</span>
        </a>
        <a href="../communications/list.html" class="nav-item">
          <span class="nav-item-icon">&#9993;</span>
          <span class="nav-item-label">Communications</span>
        </a>
        <a href="../reports/library.html" class="nav-item">
          <span class="nav-item-icon">&#9776;</span>
          <span class="nav-item-label">Rapports</span>
        </a>
        <a href="../admin/organization.html" class="nav-item">
          <span class="nav-item-icon">&#9881;</span>
          <span class="nav-item-label">Param&#232;tres</span>
        </a>
      </nav>

      <!-- Footer -->
      <div class="sidebar-footer">
        <div class="sidebar-footer-org-logo">ASM</div>
        <div class="sidebar-footer-info">
          <div class="sidebar-footer-name">Association Solidarit&#233; M&#233;diterran&#233;e</div>
          <div class="sidebar-footer-role">Plan Professionnel</div>
        </div>
        <div class="sidebar-footer-avatar">CD</div>
      </div>
    </aside>

    <!-- ============================================================
         MAIN WRAPPER
         ============================================================ -->
    <div class="main-wrapper">

      <!-- ── Topbar ── -->
      <header class="topbar">
        <div class="topbar-breadcrumb">
          <span class="topbar-breadcrumb-current">Tableau de bord</span>
        </div>

        <a href="../global/command-palette.html" class="topbar-search">
          <input
            type="text"
            class="topbar-search-input"
            placeholder="Rechercher..."
          >
          <span class="search-shortcut">&#8984;K</span>
        </a>

        <div class="topbar-actions">
          <a href="../global/notifications.html"><button class="topbar-icon-btn bell-active" title="Notifications" aria-label="Notifications">
            &#128276;
            <span class="notification-dot"></span>
          </button></a>
          <a href="../admin/users.html"><div class="topbar-avatar" title="Claire Dubois">CD</div></a>
        </div>
      </header>

      <!-- ── Main Content (simplified dashboard behind) ── -->
      <main class="main-content">

        <!-- Page Header -->
        <div class="page-header">
          <div class="page-header-left">
            <h1 class="page-title">Bonjour, Claire</h1>
            <p class="page-subtitle">Voici l'activit&#233; de votre organisation aujourd'hui.</p>
          </div>
        </div>

        <!-- Simplified stat widgets -->
        <div class="dashboard-grid-bg">
          <div class="stat-widget">
            <div class="stat-widget-label">Dons ce mois</div>
            <div class="stat-widget-value">&euro;12&nbsp;450</div>
            <div class="stat-widget-trend stat-widget-trend--up">
              &#9650; +18% vs N-1
            </div>
          </div>

          <div class="stat-widget">
            <div class="stat-widget-label">Constituants actifs</div>
            <div class="stat-widget-value">1&nbsp;247</div>
            <div class="stat-widget-trend stat-widget-trend--up">
              &#9650; +23 ce mois
            </div>
          </div>

          <div class="stat-widget">
            <div class="stat-widget-label">Campagnes actives</div>
            <div class="stat-widget-value">3</div>
            <div class="stat-widget-trend stat-widget-trend--up">
              dont 1 &#224; 89% de l'objectif
            </div>
          </div>

          <div class="stat-widget">
            <div class="stat-widget-label">&#201;ch&#233;ances subventions</div>
            <div class="stat-widget-value">2</div>
            <div class="stat-widget-trend stat-widget-trend--down">
              &#9888; dans les 7 prochains jours
            </div>
          </div>
        </div>

      </main>
    </div>
    <!-- END MAIN WRAPPER -->

    <!-- ============================================================
         NOTIFICATIONS BACKDROP
         ============================================================ -->
    <div class="notifications-backdrop" aria-hidden="true"></div>

    <!-- ============================================================
         NOTIFICATIONS PANEL (right side overlay)
         ============================================================ -->
    <aside class="notifications-panel" role="dialog" aria-label="Panneau de notifications">

      <!-- ── Panel Header ── -->
      <div class="notifications-header">
        <h2 class="notifications-title">Notifications</h2>
        <span class="notifications-count">4</span>
        <div class="notifications-header-spacer"></div>
        <a href="#" class="notifications-mark-read">Tout marquer comme lu</a>
        <a href="../dashboard.html"><button class="notifications-close" aria-label="Fermer les notifications">&times;</button></a>
      </div>

      <!-- ── Filter Tabs ── -->
      <div class="notifications-filters" role="tablist" aria-label="Filtres de notifications">
        <button class="notifications-filter-tab active" role="tab" aria-selected="true">Toutes</button>
        <button class="notifications-filter-tab" role="tab" aria-selected="false">&#201;ch&#233;ances</button>
        <button class="notifications-filter-tab" role="tab" aria-selected="false">IA</button>
        <button class="notifications-filter-tab" role="tab" aria-selected="false">&#201;quipe</button>
      </div>

      <!-- ── Notification List ── -->
      <div class="notifications-list" role="list">

        <!-- Notification 1: Echeance de subvention (unread, amber) -->
        <div class="notification-item unread accent-amber" role="listitem">
          <div class="notification-icon icon-amber">&#9888;&#65039;</div>
          <div class="notification-content">
            <div class="notification-content-header">
              <span class="notification-content-title">&#201;ch&#233;ance de subvention proche</span>
              <span class="unread-dot"></span>
            </div>
            <p class="notification-content-text">
              Le rapport interm&#233;diaire pour la Fondation de France est d&#251; dans 5 jours.
            </p>
            <div class="notification-time">Il y a 2 heures</div>
            <div class="notification-actions">
              <a href="../grants/detail.html">Voir la subvention</a>
            </div>
          </div>
        </div>

        <!-- Notification 2: Suggestion IA (unread, green) -->
        <div class="notification-item unread accent-green" role="listitem">
          <div class="notification-icon icon-green">&#10024;</div>
          <div class="notification-content">
            <div class="notification-content-header">
              <span class="notification-content-title">Suggestion IA : R&#233;activation donateurs</span>
              <span class="unread-dot"></span>
            </div>
            <p class="notification-content-text">
              12 donateurs LYBUNT avec un potentiel &#233;lev&#233; ont &#233;t&#233; identifi&#233;s.
              Voulez-vous lancer une campagne de r&#233;activation ?
            </p>
            <div class="notification-time">Il y a 3 heures</div>
            <div class="notification-actions">
              <a href="../constituents/detail.html">Voir les donateurs</a>
              <a href="#" class="action-muted">Ignorer</a>
            </div>
          </div>
        </div>

        <!-- Notification 3: Rapport pret (unread, sky) -->
        <div class="notification-item unread accent-sky" role="listitem">
          <div class="notification-icon icon-sky">&#128202;</div>
          <div class="notification-content">
            <div class="notification-content-header">
              <span class="notification-content-title">Rapport pr&#234;t</span>
              <span class="unread-dot"></span>
            </div>
            <p class="notification-content-text">
              Le rapport SYBUNT a &#233;t&#233; g&#233;n&#233;r&#233; avec succ&#232;s et est disponible au t&#233;l&#233;chargement.
            </p>
            <div class="notification-time">Il y a 5 heures</div>
            <div class="notification-actions">
              <a href="../reports/view.html">T&#233;l&#233;charger</a>
            </div>
          </div>
        </div>

        <!-- Notification 4: Invitation equipe (unread, indigo) -->
        <div class="notification-item unread accent-indigo" role="listitem">
          <div class="notification-icon icon-indigo">&#128101;</div>
          <div class="notification-content">
            <div class="notification-content-header">
              <span class="notification-content-title">Nouvelle invitation d'&#233;quipe</span>
              <span class="unread-dot"></span>
            </div>
            <p class="notification-content-text">
              Amina Benali a accept&#233; votre invitation et a rejoint l'&#233;quipe en tant que B&#233;n&#233;vole.
            </p>
            <div class="notification-time">Hier</div>
          </div>
        </div>

        <!-- Notification 5: Don recurrent (read) -->
        <div class="notification-item read accent-green" role="listitem">
          <div class="notification-icon icon-green">&#128176;</div>
          <div class="notification-content">
            <div class="notification-content-header">
              <span class="notification-content-title">Don r&#233;current re&#231;u</span>
            </div>
            <p class="notification-content-text">
              Don mensuel de 50&nbsp;&euro; re&#231;u de Jean-Pierre Moreau via pr&#233;l&#232;vement automatique.
            </p>
            <div class="notification-time">Hier</div>
          </div>
        </div>

        <!-- Notification 6: Campagne 50% atteint (read) -->
        <div class="notification-item read accent-green" role="listitem">
          <div class="notification-icon icon-green">&#9989;</div>
          <div class="notification-content">
            <div class="notification-content-header">
              <span class="notification-content-title">Campagne Hiver 2026 : 50% atteint</span>
            </div>
            <p class="notification-content-text">
              La campagne Appel aux dons Hiver 2026 a atteint 50% de son objectif.
            </p>
            <div class="notification-time">Il y a 2 jours</div>
          </div>
        </div>

      </div>
      <!-- END NOTIFICATION LIST -->

      <!-- ── Panel Footer ── -->
      <div class="notifications-footer">
        <a href="#">Voir toutes les notifications</a>
      </div>

    </aside>
    <!-- END NOTIFICATIONS PANEL -->

  </div>
  <!-- END APP LAYOUT -->
</body>
</html>
