<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Libero &mdash; Palette de commandes</title>
  <link rel="stylesheet" href="../shared/tokens.css">
  <link rel="stylesheet" href="../shared/base.css">
  <style>
    /* ================================================================
       GLO-001: Command Palette — Page-specific styles
       ================================================================ */

    /* ── Background dashboard blur + overlay ── */
    .app-layout--blurred {
      filter: blur(4px);
      pointer-events: none;
      user-select: none;
    }

    /* ── Command overlay — full viewport dark backdrop ── */
    .command-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: var(--z-modal);
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding-top: 20vh;
    }

    /* ── Command palette — centered white card ── */
    .command-palette {
      width: 100%;
      max-width: 640px;
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-modal);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      animation: palette-enter var(--duration-slower) var(--ease-out);
    }

    @keyframes palette-enter {
      from {
        opacity: 0;
        transform: translateY(-12px) scale(0.98);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* ── Command input — large search input ── */
    .command-input-wrapper {
      display: flex;
      align-items: center;
      padding: 0 var(--space-5);
      border-bottom: 1px solid var(--color-border);
      gap: var(--space-3);
    }

    .command-input-icon {
      font-size: var(--text-lg);
      color: var(--color-text-muted);
      flex-shrink: 0;
      line-height: 1;
    }

    .command-input {
      flex: 1;
      height: 48px;
      border: none;
      outline: none;
      background: transparent;
      font-family: var(--font-body);
      font-size: var(--text-md);
      color: var(--color-text);
      caret-color: var(--color-primary);
    }

    .command-input::placeholder {
      color: var(--color-text-muted);
    }

    .command-input-esc {
      flex-shrink: 0;
      font-family: var(--font-mono);
      font-size: var(--text-xs);
      font-weight: var(--weight-medium);
      color: var(--color-text-muted);
      background: var(--color-neutral-100);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      padding: 2px 8px;
      line-height: var(--leading-normal);
    }

    /* ── Results area — scrollable ── */
    .command-results {
      max-height: 400px;
      overflow-y: auto;
      padding: var(--space-2) 0;
    }

    /* ── Section header — uppercase, small, muted ── */
    .command-section {
      padding: var(--space-2) var(--space-5);
      font-size: var(--text-xs);
      font-weight: var(--weight-semi);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wider);
      color: var(--color-text-muted);
      margin-top: var(--space-1);
    }

    .command-section:first-child {
      margin-top: 0;
    }

    /* ── Result row — with hover/selected states ── */
    .command-result {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      padding: var(--space-2) var(--space-5);
      cursor: pointer;
      transition: background var(--duration-fast) var(--ease-out);
    }

    .command-result:hover {
      background: var(--color-neutral-100);
    }

    /* ── Selected / highlighted result ── */
    .command-result.selected {
      background: var(--color-primary-50);
    }

    .command-result-icon {
      width: 32px;
      height: 32px;
      border-radius: var(--radius-md);
      background: var(--color-neutral-100);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--text-md);
      flex-shrink: 0;
    }

    .command-result.selected .command-result-icon {
      background: var(--color-primary-100);
    }

    .command-result-body {
      flex: 1;
      min-width: 0;
    }

    .command-result-name {
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
      color: var(--color-text);
      line-height: var(--leading-tight);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .command-result-meta {
      font-size: var(--text-xs);
      color: var(--color-text-secondary);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      margin-top: 1px;
    }

    /* ── Keyboard shortcut badge — mono, small, bordered ── */
    .command-shortcut {
      flex-shrink: 0;
      font-family: var(--font-mono);
      font-size: var(--text-xs);
      font-weight: var(--weight-medium);
      color: var(--color-text-muted);
      background: var(--color-neutral-100);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      padding: 2px 8px;
      white-space: nowrap;
    }

    /* ── Footer — bottom hints bar ── */
    .command-footer {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-4);
      padding: var(--space-3) var(--space-5);
      border-top: 1px solid var(--color-border);
      background: var(--color-neutral-50);
      font-size: var(--text-xs);
      color: var(--color-text-muted);
    }

    .command-footer kbd {
      font-family: var(--font-mono);
      font-size: var(--text-xs);
      background: var(--color-neutral-100);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      padding: 0 4px;
      margin: 0 2px;
    }

    .command-footer-hint {
      display: flex;
      align-items: center;
      gap: var(--space-1);
    }

    /* ── Decorative background dashboard stat widgets ── */
    .bg-stat-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-4);
      margin-bottom: var(--space-6);
    }

    .bg-card-grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: var(--space-6);
    }

    .bg-card-placeholder {
      background: var(--color-surface);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-card);
      padding: var(--space-6);
    }

    .bg-card-placeholder-header {
      height: 14px;
      width: 50%;
      background: var(--color-neutral-200);
      border-radius: var(--radius-sm);
      margin-bottom: var(--space-4);
    }

    .bg-card-placeholder-line {
      height: 10px;
      background: var(--color-neutral-100);
      border-radius: var(--radius-sm);
      margin-bottom: var(--space-3);
    }

    .bg-card-placeholder-line:last-child {
      margin-bottom: 0;
      width: 70%;
    }

    /* ── Scrollbar styling for results ── */
    .command-results::-webkit-scrollbar {
      width: 6px;
    }

    .command-results::-webkit-scrollbar-track {
      background: transparent;
    }

    .command-results::-webkit-scrollbar-thumb {
      background: var(--color-neutral-300);
      border-radius: var(--radius-pill);
    }

    .command-results::-webkit-scrollbar-thumb:hover {
      background: var(--color-neutral-400);
    }

    /* ── Responsive ── */
    @media (max-width: 720px) {
      .command-overlay {
        padding-top: 10vh;
        padding-left: var(--space-4);
        padding-right: var(--space-4);
      }

      .bg-stat-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .bg-card-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <!-- ================================================================
       BACKGROUND: Blurred dashboard (decorative)
       ================================================================ -->
  <div class="app-layout app-layout--blurred" aria-hidden="true">

    <!-- Sidebar -->
    <aside class="sidebar">
      <a href="../dashboard.html" class="sidebar-brand">
        <div class="sidebar-brand-logo">L</div>
        <span class="sidebar-brand-text">Libero</span>
      </a>

      <nav class="sidebar-nav">
        <a href="../dashboard.html" class="nav-item active">
          <span class="nav-item-icon">&#9634;</span>
          <span class="nav-item-label">Dashboard</span>
        </a>
        <a href="../constituents/list.html" class="nav-item">
          <span class="nav-item-icon">&#9775;</span>
          <span class="nav-item-label">Constituants</span>
        </a>
        <a href="../donations/list.html" class="nav-item">
          <span class="nav-item-icon">&#9829;</span>
          <span class="nav-item-label">Dons &amp; Campagnes</span>
        </a>
        <a href="../grants/kanban.html" class="nav-item">
          <span class="nav-item-icon">&#9733;</span>
          <span class="nav-item-label">Subventions</span>
        </a>
        <a href="../programs/list.html" class="nav-item">
          <span class="nav-item-icon">&#9670;</span>
          <span class="nav-item-label">Programmes</span>
        </a>
        <a href="../volunteers/list.html" class="nav-item">
          <span class="nav-item-icon">&#9996;</span>
          <span class="nav-item-label">B&#233;n&#233;voles</span>
        </a>
        <a href="../impact/dashboard.html" class="nav-item">
          <span class="nav-item-icon">&#9678;</span>
          <span class="nav-item-label">Impact</span>
        </a>
        <a href="../communications/list.html" class="nav-item">
          <span class="nav-item-icon">&#9993;</span>
          <span class="nav-item-label">Communications</span>
        </a>
        <a href="../reports/library.html" class="nav-item">
          <span class="nav-item-icon">&#9776;</span>
          <span class="nav-item-label">Rapports</span>
        </a>
        <a href="../admin/index.html" class="nav-item">
          <span class="nav-item-icon">&#9881;</span>
          <span class="nav-item-label">Param&#232;tres</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <div class="sidebar-footer-avatar">CD</div>
        <div class="sidebar-footer-info">
          <div class="sidebar-footer-name">Claire Dubois</div>
          <div class="sidebar-footer-role">Administratrice</div>
        </div>
      </div>
    </aside>

    <!-- Main wrapper -->
    <div class="main-wrapper">

      <!-- Topbar -->
      <header class="topbar">
        <div class="topbar-breadcrumb">
          <span class="topbar-breadcrumb-current">Tableau de bord</span>
        </div>
        <div class="topbar-search">
          <input type="text" class="topbar-search-input" placeholder="Rechercher..." tabindex="-1">
        </div>
        <div class="topbar-actions">
          <button class="topbar-icon-btn" tabindex="-1">&#128276;</button>
          <div class="topbar-avatar">CD</div>
        </div>
      </header>

      <!-- Dashboard content (simplified, decorative) -->
      <main class="main-content">
        <div class="page-header">
          <div class="page-header-left">
            <h1 class="page-title">Bonjour, Claire</h1>
            <p class="page-subtitle">Voici l&#8217;activit&#233; de votre organisation aujourd&#8217;hui.</p>
          </div>
        </div>

        <!-- Stat widgets -->
        <div class="bg-stat-grid">
          <div class="stat-widget">
            <div class="stat-widget-label">Dons ce mois</div>
            <div class="stat-widget-value">&euro;12&nbsp;450</div>
            <div class="stat-widget-trend stat-widget-trend--up">&#9650; +18% vs N-1</div>
          </div>
          <div class="stat-widget">
            <div class="stat-widget-label">Constituants actifs</div>
            <div class="stat-widget-value">1&nbsp;247</div>
            <div class="stat-widget-trend stat-widget-trend--up">&#9650; +23 ce mois</div>
          </div>
          <div class="stat-widget">
            <div class="stat-widget-label">Campagnes actives</div>
            <div class="stat-widget-value">3</div>
            <div class="stat-widget-trend stat-widget-trend--up">dont 1 &#224; 89%</div>
          </div>
          <div class="stat-widget">
            <div class="stat-widget-label">&#201;ch&#233;ances subventions</div>
            <div class="stat-widget-value">2</div>
            <div class="stat-widget-trend stat-widget-trend--down">&#9888; 7 prochains jours</div>
          </div>
        </div>

        <!-- Placeholder cards -->
        <div class="bg-card-grid">
          <div class="bg-card-placeholder">
            <div class="bg-card-placeholder-header"></div>
            <div class="bg-card-placeholder-line" style="width: 90%;"></div>
            <div class="bg-card-placeholder-line" style="width: 75%;"></div>
            <div class="bg-card-placeholder-line" style="width: 60%;"></div>
            <div class="bg-card-placeholder-line"></div>
          </div>
          <div class="bg-card-placeholder">
            <div class="bg-card-placeholder-header"></div>
            <div class="bg-card-placeholder-line" style="width: 85%;"></div>
            <div class="bg-card-placeholder-line" style="width: 65%;"></div>
            <div class="bg-card-placeholder-line"></div>
          </div>
        </div>
      </main>

    </div>
  </div>
  <!-- END BACKGROUND DASHBOARD -->


  <!-- ================================================================
       COMMAND PALETTE OVERLAY
       ================================================================ -->
  <div class="command-overlay" role="dialog" aria-modal="true" aria-label="Palette de commandes">
    <div class="command-palette">

      <!-- ── Search input ── -->
      <div class="command-input-wrapper">
        <span class="command-input-icon">&#128269;</span>
        <input
          type="text"
          class="command-input"
          placeholder="Rechercher ou ex&#233;cuter une commande..."
          value="Mar"
          autofocus
        >
        <span class="command-input-esc">Esc</span>
      </div>

      <!-- ── Results area ── -->
      <div class="command-results">

        <!-- Section: Constituants -->
        <div class="command-section">Constituants</div>

        <a href="../constituents/detail.html" class="command-result selected">
          <div class="command-result-icon">&#128100;</div>
          <div class="command-result-body">
            <div class="command-result-name">Marie-Claire Fontaine</div>
            <div class="command-result-meta">Donatrice &middot; Marseille</div>
          </div>
        </a>

        <a href="../constituents/detail.html" class="command-result">
          <div class="command-result-icon">&#128100;</div>
          <div class="command-result-body">
            <div class="command-result-name">Ahmed Benali</div>
            <div class="command-result-meta">Donateur &middot; Lyon</div>
          </div>
        </a>

        <a href="../constituents/detail.html" class="command-result">
          <div class="command-result-icon">&#128100;</div>
          <div class="command-result-body">
            <div class="command-result-name">Association Les Amis du Parc</div>
            <div class="command-result-meta">Organisation &middot; Paris</div>
          </div>
        </a>

        <!-- Section: Dons -->
        <div class="command-section">Dons</div>

        <a href="../donations/detail.html" class="command-result">
          <div class="command-result-icon">&#128157;</div>
          <div class="command-result-body">
            <div class="command-result-name">Don #D-2026-0142</div>
            <div class="command-result-meta">500&nbsp;&euro; &middot; Marie-Claire Fontaine &middot; 25 f&#233;v. 2026</div>
          </div>
        </a>

        <a href="../donations/detail.html" class="command-result">
          <div class="command-result-icon">&#128157;</div>
          <div class="command-result-body">
            <div class="command-result-name">Don #D-2026-0139</div>
            <div class="command-result-meta">200&nbsp;&euro; &middot; Ahmed Benali &middot; 23 f&#233;v. 2026</div>
          </div>
        </a>

        <!-- Section: Actions rapides -->
        <div class="command-section">Actions rapides</div>

        <div class="command-result">
          <div class="command-result-icon">&#10133;</div>
          <div class="command-result-body">
            <div class="command-result-name">Nouveau constituant</div>
          </div>
          <span class="command-shortcut">Ctrl+N</span>
        </div>

        <div class="command-result">
          <div class="command-result-icon">&#128176;</div>
          <div class="command-result-body">
            <div class="command-result-name">Enregistrer un don</div>
          </div>
          <span class="command-shortcut">Ctrl+D</span>
        </div>

        <div class="command-result">
          <div class="command-result-icon">&#128202;</div>
          <div class="command-result-body">
            <div class="command-result-name">Ouvrir les rapports</div>
          </div>
          <span class="command-shortcut">Ctrl+R</span>
        </div>

        <div class="command-result">
          <div class="command-result-icon">&#9881;</div>
          <div class="command-result-body">
            <div class="command-result-name">Param&#232;tres</div>
          </div>
          <span class="command-shortcut">Ctrl+,</span>
        </div>

      </div>
      <!-- END Results area -->

      <!-- ── Footer hints ── -->
      <div class="command-footer">
        <span class="command-footer-hint"><kbd>&#8593;&#8595;</kbd> pour naviguer</span>
        <span class="command-footer-hint"><kbd>&#8629;</kbd> pour s&#233;lectionner</span>
        <span class="command-footer-hint"><kbd>Esc</kbd> pour fermer</span>
      </div>

    </div>
  </div>
  <!-- END COMMAND PALETTE OVERLAY -->

</body>
</html>
