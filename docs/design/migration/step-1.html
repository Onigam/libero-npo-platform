<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Libero — Migration : Source</title>
  <link rel="stylesheet" href="../shared/tokens.css">
  <link rel="stylesheet" href="../shared/base.css">
  <style>
    .migration-layout {
      min-height: 100vh;
      background: var(--color-bg);
      padding: var(--space-8) var(--space-6);
    }
    .migration-topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 860px;
      margin: 0 auto var(--space-6);
    }
    .migration-logo {
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }
    .migration-step-counter {
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
      color: var(--color-text-secondary);
    }
    .migration-container {
      max-width: 860px;
      margin: 0 auto;
    }
    .migration-header {
      text-align: center;
      margin-bottom: var(--space-4);
    }
    .migration-title {
      font-family: var(--font-heading);
      font-size: var(--text-2xl);
      margin-bottom: var(--space-2);
    }
    .migration-subtitle {
      font-size: var(--text-sm);
      color: var(--color-text-secondary);
    }
    .migration-actions {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      margin-top: var(--space-8);
      gap: var(--space-4);
    }

    /* Source cards */
    .source-cards {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }
    .source-card {
      background: var(--color-white);
      border: 2px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: var(--space-6);
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-out);
    }
    .source-card:hover {
      border-color: var(--color-primary);
      box-shadow: var(--shadow-card);
    }
    .source-card.selected {
      border-color: var(--color-primary);
      background: var(--color-primary-50);
    }
    .source-card-top {
      display: flex;
      align-items: center;
      gap: var(--space-4);
    }
    .source-card-logo {
      width: 48px;
      height: 48px;
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-size: var(--text-lg);
      font-weight: var(--weight-bold);
    }
    .source-card-logo--sf {
      background: #00A1E0;
      color: var(--color-white);
    }
    .source-card-logo--csv {
      background: var(--color-amber-light);
      color: var(--color-amber);
    }
    .source-card-logo--other {
      background: var(--color-neutral-200);
      color: var(--color-neutral-600);
    }
    .source-card-info { flex: 1; }
    .source-card-title {
      font-weight: var(--weight-semi);
      font-size: var(--text-md);
      margin-bottom: var(--space-1);
    }
    .source-card-desc {
      font-size: var(--text-sm);
      color: var(--color-text-secondary);
    }
    .source-card-radio {
      width: 20px;
      height: 20px;
      border: 2px solid var(--color-border);
      border-radius: var(--radius-full);
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--duration-normal) var(--ease-out);
    }
    .source-card.selected .source-card-radio {
      border-color: var(--color-primary);
    }
    .source-card.selected .source-card-radio::after {
      content: '';
      width: 10px;
      height: 10px;
      border-radius: var(--radius-full);
      background: var(--color-primary);
    }

    /* Expanded connection panel */
    .source-expand {
      margin-top: var(--space-5);
      padding-top: var(--space-5);
      border-top: 1px solid var(--color-primary-100);
    }
    .connection-field {
      display: flex;
      align-items: flex-end;
      gap: var(--space-3);
    }
    .connection-field .form-group {
      flex: 1;
      margin-bottom: 0;
    }

    /* Success badge */
    .connection-success {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      margin-top: var(--space-4);
      padding: var(--space-3) var(--space-4);
      background: var(--color-primary-50);
      border: 1px solid var(--color-primary-100);
      border-radius: var(--radius-md);
    }
    .connection-success-icon {
      width: 32px;
      height: 32px;
      border-radius: var(--radius-full);
      background: var(--color-primary);
      color: var(--color-white);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-size: var(--text-sm);
      font-weight: var(--weight-bold);
    }
    .connection-success-text {
      font-size: var(--text-sm);
      color: var(--color-primary-dark);
      font-weight: var(--weight-medium);
    }
    .connection-success-text span {
      font-weight: var(--weight-regular);
      color: var(--color-text-secondary);
    }

    /* Upload zone */
    .upload-zone {
      border: 2px dashed var(--color-border);
      border-radius: var(--radius-md);
      padding: var(--space-8) var(--space-6);
      text-align: center;
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-out);
      background: var(--color-white);
    }
    .upload-zone:hover {
      border-color: var(--color-primary);
      background: var(--color-primary-50);
    }
    .upload-zone-icon {
      color: var(--color-text-muted);
      margin-bottom: var(--space-2);
    }
    .upload-zone-text {
      font-size: var(--text-sm);
      color: var(--color-text-secondary);
    }
    .upload-zone-text strong {
      color: var(--color-primary);
    }
    .upload-zone-hint {
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      margin-top: var(--space-1);
    }
  </style>
</head>
<body>
  <div class="migration-layout">
    <div class="migration-container">

      <!-- Top bar: Logo + step counter -->
      <div class="migration-topbar">
        <div class="migration-logo">
          <div class="auth-logo-mark">L</div>
          <span class="auth-logo-text">Libero</span>
        </div>
        <span class="migration-step-counter">1 / 5</span>
      </div>

      <!-- Wizard Progress: Step 1 of 5 -->
      <div class="wizard-progress">
        <div class="wizard-step active">
          <div class="wizard-step-dot">1</div>
          <span class="wizard-step-label">Source</span>
        </div>
        <div class="wizard-step-connector"></div>
        <div class="wizard-step">
          <div class="wizard-step-dot">2</div>
          <span class="wizard-step-label">Mapping</span>
        </div>
        <div class="wizard-step-connector"></div>
        <div class="wizard-step">
          <div class="wizard-step-dot">3</div>
          <span class="wizard-step-label">Validation</span>
        </div>
        <div class="wizard-step-connector"></div>
        <div class="wizard-step">
          <div class="wizard-step-dot">4</div>
          <span class="wizard-step-label">Import</span>
        </div>
        <div class="wizard-step-connector"></div>
        <div class="wizard-step">
          <div class="wizard-step-dot">5</div>
          <span class="wizard-step-label">Termine</span>
        </div>
      </div>

      <!-- Header -->
      <div class="migration-header">
        <h1 class="migration-title">Depuis quelle source migrez-vous ?</h1>
        <p class="migration-subtitle">Connectez votre CRM actuel ou importez vos donnees pour commencer la migration vers Libero.</p>
      </div>

      <!-- Source Selection Cards -->
      <div class="card" style="padding: var(--space-8);">
        <div class="source-cards">

          <!-- Option 1: Salesforce NPSP (selected + expanded) -->
          <div class="source-card selected">
            <div class="source-card-top">
              <div class="source-card-logo source-card-logo--sf">SF</div>
              <div class="source-card-info">
                <div class="source-card-title">Salesforce NPSP</div>
                <div class="source-card-desc">Connexion OAuth directe — import automatique de vos contacts, dons et campagnes</div>
              </div>
              <div class="source-card-radio"></div>
            </div>

            <!-- Expanded: Connection form -->
            <div class="source-expand">
              <div class="connection-field">
                <div class="form-group">
                  <label class="form-label" for="sf-url">URL de votre instance Salesforce</label>
                  <input type="url" id="sf-url" class="form-input" value="https://asm-solidarite.my.salesforce.com" placeholder="https://votre-org.my.salesforce.com">
                </div>
                <button class="btn btn-primary" style="height: 40px; flex-shrink: 0;">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
                  Autoriser l'acces
                </button>
              </div>

              <!-- Connection success state -->
              <div class="connection-success">
                <div class="connection-success-icon">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                </div>
                <div class="connection-success-text">
                  Connecte — <span>1 247 Contacts, 8 432 Opportunities trouves</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Option 2: CSV Export -->
          <div class="source-card">
            <div class="source-card-top">
              <div class="source-card-logo source-card-logo--csv">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
              </div>
              <div class="source-card-info">
                <div class="source-card-title">Export CSV Salesforce</div>
                <div class="source-card-desc">Telecharger le modele CSV, remplissez-le avec vos donnees exportees et importez-le</div>
              </div>
              <div class="source-card-radio"></div>
            </div>
          </div>

          <!-- Option 3: Other CRM -->
          <div class="source-card">
            <div class="source-card-top">
              <div class="source-card-logo source-card-logo--other">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"/><rect x="2" y="14" width="20" height="8" rx="2" ry="2"/><line x1="6" y1="6" x2="6.01" y2="6"/><line x1="6" y1="18" x2="6.01" y2="18"/></svg>
              </div>
              <div class="source-card-info">
                <div class="source-card-title">Autre CRM</div>
                <div class="source-card-desc">Importez vos donnees depuis un fichier CSV ou Excel generique</div>
              </div>
              <div class="source-card-radio"></div>
            </div>
          </div>

        </div>
      </div>

      <!-- Actions -->
      <div class="migration-actions">
        <a href="step-2.html" class="btn btn-primary btn-lg">
          Continuer
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
        </a>
      </div>

    </div>
  </div>
<script src="../shared/mobile.js"></script>
</body>
</html>
