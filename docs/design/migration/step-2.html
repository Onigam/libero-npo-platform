<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Libero — Migration : Correspondance des champs</title>
  <link rel="stylesheet" href="../shared/tokens.css">
  <link rel="stylesheet" href="../shared/base.css">
  <style>
    .migration-layout {
      min-height: 100vh;
      background: var(--color-bg);
      padding: var(--space-8) var(--space-6);
    }
    .migration-topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 860px;
      margin: 0 auto var(--space-6);
    }
    .migration-logo {
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }
    .migration-step-counter {
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
      color: var(--color-text-secondary);
    }
    .migration-container {
      max-width: 860px;
      margin: 0 auto;
    }
    .migration-header {
      text-align: center;
      margin-bottom: var(--space-4);
    }
    .migration-title {
      font-family: var(--font-heading);
      font-size: var(--text-2xl);
      margin-bottom: var(--space-2);
    }
    .migration-subtitle {
      font-size: var(--text-sm);
      color: var(--color-text-secondary);
    }
    .migration-actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: var(--space-8);
      gap: var(--space-4);
    }

    /* Stats bar */
    .stats-bar {
      display: flex;
      align-items: center;
      gap: var(--space-6);
      padding: var(--space-4) var(--space-6);
      background: var(--color-neutral-100);
      border-radius: var(--radius-md);
      margin-bottom: var(--space-6);
    }
    .stats-bar-item {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
    }
    .stats-bar-dot {
      width: 8px;
      height: 8px;
      border-radius: var(--radius-full);
      flex-shrink: 0;
    }
    .stats-bar-dot--green { background: var(--color-primary); }
    .stats-bar-dot--amber { background: var(--color-amber); }
    .stats-bar-dot--indigo { background: var(--color-indigo); }

    /* Mapping table */
    .mapping-table-wrapper {
      max-height: 440px;
      overflow-y: auto;
      border-radius: var(--radius-md);
      border: 1px solid var(--color-border);
    }
    .mapping-table {
      width: 100%;
      border-collapse: collapse;
      font-size: var(--text-sm);
    }
    .mapping-table thead {
      position: sticky;
      top: 0;
      z-index: var(--z-base);
    }
    .mapping-table th {
      background: var(--color-neutral-200);
      padding: var(--space-3) var(--space-4);
      text-align: left;
      font-weight: var(--weight-semi);
      font-size: var(--text-xs);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
      color: var(--color-text-secondary);
      border-bottom: 1px solid var(--color-border);
      white-space: nowrap;
    }
    .mapping-table td {
      padding: var(--space-3) var(--space-4);
      height: var(--table-row-height);
      vertical-align: middle;
      border-bottom: 1px solid var(--color-neutral-100);
    }
    .mapping-table tbody tr:nth-child(even) { background: var(--color-neutral-100); }
    .mapping-table tbody tr:nth-child(odd)  { background: var(--color-white); }
    .mapping-table tbody tr:hover { background: var(--color-primary-50); }

    .field-name {
      font-family: var(--font-mono);
      font-size: var(--text-xs);
      font-weight: var(--weight-medium);
    }
    .field-type {
      font-size: var(--text-xs);
      padding: 2px 6px;
      background: var(--color-neutral-200);
      border-radius: var(--radius-sm);
      font-family: var(--font-mono);
      color: var(--color-text-secondary);
    }
    .arrow-col {
      text-align: center;
      color: var(--color-text-muted);
      font-size: var(--text-md);
    }
    .confidence {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      font-size: var(--text-xs);
      font-weight: var(--weight-medium);
      white-space: nowrap;
    }
    .confidence-dots {
      display: flex;
      gap: 2px;
    }
    .confidence-dot {
      width: 6px;
      height: 6px;
      border-radius: var(--radius-full);
      background: var(--color-neutral-300);
    }
    .confidence--high .confidence-dot { background: var(--color-primary); }
    .confidence--high .confidence-label { color: var(--color-primary-dark); }
    .confidence--medium .confidence-dot:nth-child(-n+2) { background: var(--color-amber); }
    .confidence--medium .confidence-label { color: var(--color-amber); }
    .confidence--low .confidence-dot:first-child { background: var(--color-indigo); }
    .confidence--low .confidence-label { color: var(--color-indigo); }

    .mapping-select {
      height: 32px;
      padding: 0 var(--space-2);
      font-size: var(--text-xs);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      font-family: var(--font-mono);
      background: var(--color-white);
      color: var(--color-text-muted);
      min-width: 140px;
    }
    .ignore-link {
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      cursor: pointer;
      white-space: nowrap;
    }
    .ignore-link:hover { color: var(--color-indigo); }

    .create-field-link {
      display: inline-flex;
      align-items: center;
      gap: var(--space-1);
      font-size: var(--text-sm);
      color: var(--color-primary);
      font-weight: var(--weight-medium);
      cursor: pointer;
      margin-top: var(--space-4);
    }
    .create-field-link:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="migration-layout">
    <div class="migration-container">

      <!-- Top bar -->
      <div class="migration-topbar">
        <div class="migration-logo">
          <div class="auth-logo-mark">L</div>
          <span class="auth-logo-text">Libero</span>
        </div>
        <span class="migration-step-counter">2 / 5</span>
      </div>

      <!-- Wizard Progress: Step 2 of 5 -->
      <div class="wizard-progress">
        <div class="wizard-step completed">
          <div class="wizard-step-dot">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
          </div>
          <span class="wizard-step-label">Source</span>
        </div>
        <div class="wizard-step-connector completed"></div>
        <div class="wizard-step active">
          <div class="wizard-step-dot">2</div>
          <span class="wizard-step-label">Mapping</span>
        </div>
        <div class="wizard-step-connector"></div>
        <div class="wizard-step">
          <div class="wizard-step-dot">3</div>
          <span class="wizard-step-label">Validation</span>
        </div>
        <div class="wizard-step-connector"></div>
        <div class="wizard-step">
          <div class="wizard-step-dot">4</div>
          <span class="wizard-step-label">Import</span>
        </div>
        <div class="wizard-step-connector"></div>
        <div class="wizard-step">
          <div class="wizard-step-dot">5</div>
          <span class="wizard-step-label">Termine</span>
        </div>
      </div>

      <!-- Header -->
      <div class="migration-header">
        <h1 class="migration-title">Correspondance des champs</h1>
        <p class="migration-subtitle">Verifiez et ajustez la correspondance entre vos champs Salesforce NPSP et Libero.</p>
      </div>

      <!-- Stats bar -->
      <div class="stats-bar">
        <div class="stats-bar-item">
          <div class="stats-bar-dot stats-bar-dot--green"></div>
          67 champs mappes
        </div>
        <div class="stats-bar-item">
          <div class="stats-bar-dot stats-bar-dot--amber"></div>
          12 avertissements
        </div>
        <div class="stats-bar-item">
          <div class="stats-bar-dot stats-bar-dot--indigo"></div>
          5 non mappes
        </div>
      </div>

      <!-- Mapping Card -->
      <div class="card" style="padding: var(--space-6);">

        <!-- Mapping Table -->
        <div class="mapping-table-wrapper">
          <table class="mapping-table">
            <thead>
              <tr>
                <th>Champ Salesforce</th>
                <th>Type</th>
                <th style="text-align: center; width: 40px;"></th>
                <th>Champ Libero</th>
                <th>Confiance</th>
                <th style="width: 80px;"></th>
              </tr>
            </thead>
            <tbody>
              <!-- Row 1: High confidence -->
              <tr>
                <td><span class="field-name">Contact.FirstName</span></td>
                <td><span class="field-type">TEXT</span></td>
                <td class="arrow-col">&rarr;</td>
                <td><span class="field-name">first_name</span></td>
                <td>
                  <div class="confidence confidence--high">
                    <div class="confidence-dots">
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                    </div>
                    <span class="confidence-label">Elevee</span>
                  </div>
                </td>
                <td><span class="ignore-link">Ignorer</span></td>
              </tr>

              <!-- Row 2: High confidence -->
              <tr>
                <td><span class="field-name">Contact.LastName</span></td>
                <td><span class="field-type">TEXT</span></td>
                <td class="arrow-col">&rarr;</td>
                <td><span class="field-name">last_name</span></td>
                <td>
                  <div class="confidence confidence--high">
                    <div class="confidence-dots">
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                    </div>
                    <span class="confidence-label">Elevee</span>
                  </div>
                </td>
                <td><span class="ignore-link">Ignorer</span></td>
              </tr>

              <!-- Row 3: High confidence -->
              <tr>
                <td><span class="field-name">Contact.Email</span></td>
                <td><span class="field-type">EMAIL</span></td>
                <td class="arrow-col">&rarr;</td>
                <td><span class="field-name">email</span></td>
                <td>
                  <div class="confidence confidence--high">
                    <div class="confidence-dots">
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                    </div>
                    <span class="confidence-label">Elevee</span>
                  </div>
                </td>
                <td><span class="ignore-link">Ignorer</span></td>
              </tr>

              <!-- Row 4: Medium confidence -->
              <tr>
                <td><span class="field-name">npe01__HomeEmail__c</span></td>
                <td><span class="field-type">EMAIL</span></td>
                <td class="arrow-col">&rarr;</td>
                <td><span class="field-name">email_secondary</span></td>
                <td>
                  <div class="confidence confidence--medium">
                    <div class="confidence-dots">
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                    </div>
                    <span class="confidence-label">Moyenne</span>
                  </div>
                </td>
                <td><span class="ignore-link">Ignorer</span></td>
              </tr>

              <!-- Row 5: Low confidence -->
              <tr>
                <td><span class="field-name">NPSP_Household__c</span></td>
                <td><span class="field-type">LOOKUP</span></td>
                <td class="arrow-col">&rarr;</td>
                <td><span class="field-name">household_id</span></td>
                <td>
                  <div class="confidence confidence--low">
                    <div class="confidence-dots">
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                    </div>
                    <span class="confidence-label">Faible</span>
                  </div>
                </td>
                <td><span class="ignore-link">Ignorer</span></td>
              </tr>

              <!-- Row 6: High confidence -->
              <tr>
                <td><span class="field-name">Birthdate</span></td>
                <td><span class="field-type">DATE</span></td>
                <td class="arrow-col">&rarr;</td>
                <td><span class="field-name">date_of_birth</span></td>
                <td>
                  <div class="confidence confidence--high">
                    <div class="confidence-dots">
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                    </div>
                    <span class="confidence-label">Elevee</span>
                  </div>
                </td>
                <td><span class="ignore-link">Ignorer</span></td>
              </tr>

              <!-- Row 7: Unmapped -->
              <tr>
                <td><span class="field-name">Custom_Field_1__c</span></td>
                <td><span class="field-type">TEXT</span></td>
                <td class="arrow-col">&rarr;</td>
                <td>
                  <select class="mapping-select">
                    <option value="" selected>Selectionner...</option>
                    <option value="notes">notes</option>
                    <option value="custom_1">custom_field_1</option>
                    <option value="tags">tags</option>
                  </select>
                </td>
                <td>
                  <div class="confidence">
                    <span style="color: var(--color-text-muted);">— Non mappe</span>
                  </div>
                </td>
                <td><span class="ignore-link">Ignorer</span></td>
              </tr>

              <!-- Row 8: High confidence -->
              <tr>
                <td><span class="field-name">Contact.Phone</span></td>
                <td><span class="field-type">PHONE</span></td>
                <td class="arrow-col">&rarr;</td>
                <td><span class="field-name">phone</span></td>
                <td>
                  <div class="confidence confidence--high">
                    <div class="confidence-dots">
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                    </div>
                    <span class="confidence-label">Elevee</span>
                  </div>
                </td>
                <td><span class="ignore-link">Ignorer</span></td>
              </tr>

              <!-- Row 9: Medium -->
              <tr>
                <td><span class="field-name">npo02__TotalOppAmount__c</span></td>
                <td><span class="field-type">CURRENCY</span></td>
                <td class="arrow-col">&rarr;</td>
                <td><span class="field-name">total_donations</span></td>
                <td>
                  <div class="confidence confidence--medium">
                    <div class="confidence-dots">
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                      <div class="confidence-dot"></div>
                    </div>
                    <span class="confidence-label">Moyenne</span>
                  </div>
                </td>
                <td><span class="ignore-link">Ignorer</span></td>
              </tr>

            </tbody>
          </table>
        </div>

        <!-- Create custom field link -->
        <div class="create-field-link">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          Creer un champ personnalise
        </div>

      </div>

      <!-- Actions -->
      <div class="migration-actions">
        <a href="step-1.html" class="btn btn-secondary">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>
          Retour
        </a>
        <a href="step-3.html" class="btn btn-primary btn-lg">
          Continuer
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
        </a>
      </div>

    </div>
  </div>
<script src="../shared/mobile.js"></script>
</body>
</html>
