<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Libero — Journal d'activite de l'agent · CONV-005</title>
  <link rel="stylesheet" href="../shared/tokens.css">
  <link rel="stylesheet" href="../shared/base.css">
  <style>
    /* ── Filter bar ── */
    .activity-filters {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      margin-bottom: var(--space-6);
      flex-wrap: wrap;
    }

    .activity-filters-group {
      display: flex;
      align-items: center;
      gap: 0;
      border: 1px solid var(--color-border);
      border-radius: 6px;
      overflow: hidden;
      background: var(--color-surface);
    }

    .filter-btn {
      height: 32px;
      padding: 0 var(--space-3);
      font-family: var(--font-body);
      font-size: var(--text-xs);
      font-weight: var(--weight-medium);
      color: var(--color-text-secondary);
      background: var(--color-surface);
      border: none;
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-out);
      border-right: 1px solid var(--color-border);
    }

    .filter-btn:last-child {
      border-right: none;
    }

    .filter-btn:hover {
      background: var(--color-neutral-100);
      color: var(--color-text);
    }

    .filter-btn.active {
      background: var(--color-primary);
      color: var(--color-white);
    }

    .filter-dropdown {
      height: 32px;
      padding: 0 var(--space-3);
      font-family: var(--font-body);
      font-size: var(--text-xs);
      font-weight: var(--weight-medium);
      color: var(--color-text-secondary);
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: 6px;
      cursor: pointer;
      appearance: none;
      padding-right: var(--space-6);
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236B6760' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 8px center;
    }

    /* ── Section header ── */
    .section-date {
      font-family: var(--font-heading);
      font-size: var(--text-md);
      color: var(--color-text);
      padding-bottom: var(--space-3);
      border-bottom: 1px solid var(--color-border);
      margin-bottom: var(--space-2);
      margin-top: var(--space-6);
    }

    .section-date:first-of-type {
      margin-top: 0;
    }

    /* ── Timeline overrides for activity log ── */
    .activity-timeline .timeline-item {
      padding: var(--space-3) var(--space-4);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: background var(--duration-normal) var(--ease-out);
      margin-left: 0;
    }

    .activity-timeline .timeline-item:hover {
      background: var(--color-neutral-100);
    }

    .activity-timeline .timeline-item:not(:last-child)::after {
      left: 31px;
      top: 42px;
    }

    .timeline-icon--green {
      background: var(--color-primary-50);
      color: var(--color-primary-dark);
    }

    .timeline-icon--sky {
      background: var(--color-sky-50);
      color: var(--color-sky);
    }

    .timeline-icon--amber {
      background: var(--color-amber-50);
      color: var(--color-amber);
    }

    .timeline-icon--indigo {
      background: var(--color-indigo-50);
      color: var(--color-indigo);
    }

    /* ── Timeline row details ── */
    .timeline-row {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      flex-wrap: wrap;
    }

    .timeline-detail {
      font-size: var(--text-xs);
      color: var(--color-text-secondary);
    }

    .timeline-time {
      font-family: var(--font-mono);
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      min-width: 40px;
    }

    .timeline-initiator {
      font-size: var(--text-xs);
      color: var(--color-text-muted);
    }

    .timeline-undo {
      font-size: var(--text-xs);
      color: var(--color-indigo);
      cursor: pointer;
      text-decoration: none;
      font-weight: var(--weight-medium);
      margin-left: auto;
      flex-shrink: 0;
    }

    .timeline-undo:hover {
      text-decoration: underline;
    }

    /* ── Warning inline ── */
    .timeline-warning {
      display: inline-flex;
      align-items: center;
      gap: var(--space-1);
      font-size: var(--text-xs);
      font-weight: var(--weight-medium);
      color: var(--color-amber);
      background: var(--color-amber-50);
      padding: 1px 8px;
      border-radius: var(--radius-pill);
    }

    /* ── Annotation ── */
    .annotation {
      display: inline-flex;
      align-items: center;
      gap: var(--space-2);
      background: var(--color-indigo-50);
      border: 1px solid var(--color-indigo-light);
      color: var(--color-indigo);
      font-size: var(--text-xs);
      font-weight: var(--weight-semi);
      padding: var(--space-1-5) var(--space-3);
      border-radius: var(--radius-pill);
      margin-top: var(--space-6);
    }

    .annotation svg {
      flex-shrink: 0;
    }

    /* ── Stats row ── */
    .activity-stats {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-4);
      margin-bottom: var(--space-6);
    }

    @media (max-width: 768px) {
      .activity-stats {
        grid-template-columns: repeat(2, 1fr);
      }
      .activity-filters {
        gap: var(--space-2);
      }
      .timeline-undo {
        margin-left: 0;
      }
      .timeline-row {
        gap: var(--space-1);
      }
    }
  </style>
</head>
<body>
<div class="app-layout">

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-brand">
      <div class="sidebar-brand-logo">L</div>
      <span class="sidebar-brand-text">Libero</span>
    </div>
    <nav class="sidebar-nav">
      <a href="../index.html" class="nav-item" style="margin-bottom:4px;opacity:0.7;font-size:12px;">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg></span>
        <span class="nav-item-label">Retour a Libero</span>
      </a>
      <div class="sidebar-section">Mode Conversationnel</div>
      <a href="conversation-hub.html" class="nav-item">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg></span>
        <span class="nav-item-label">Hub conversationnel</span>
      </a>
      <a href="inline-results.html" class="nav-item">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg></span>
        <span class="nav-item-label">Resultats inline</span>
      </a>
      <a href="action-orchestration.html" class="nav-item">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg></span>
        <span class="nav-item-label">Orchestration</span>
      </a>
      <a href="action-confirmation.html" class="nav-item">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></span>
        <span class="nav-item-label">Confirmations</span>
      </a>
      <a href="agent-activity.html" class="nav-item active">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg></span>
        <span class="nav-item-label">Journal d'activite</span>
      </a>
      <a href="hybrid-view.html" class="nav-item">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="12" y1="3" x2="12" y2="21"/></svg></span>
        <span class="nav-item-label">Vue hybride</span>
      </a>
      <a href="smart-command.html" class="nav-item">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></span>
        <span class="nav-item-label">Palette de commandes</span>
      </a>
      <a href="agent-permissions.html" class="nav-item">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg></span>
        <span class="nav-item-label">Permissions agent</span>
      </a>
      <a href="onboarding-agent.html" class="nav-item">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg></span>
        <span class="nav-item-label">Onboarding</span>
      </a>
      <a href="mobile-conversation.html" class="nav-item">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg></span>
        <span class="nav-item-label">Mobile</span>
      </a>
      <a href="dashboard-ai.html" class="nav-item">
        <span class="nav-item-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></span>
        <span class="nav-item-label">Dashboard IA</span>
      </a>
    </nav>
    <div class="sidebar-footer">
      <div class="sidebar-footer-avatar">ML</div>
      <div class="sidebar-footer-info">
        <div class="sidebar-footer-name">Marie Laurent</div>
        <div class="sidebar-footer-role">Directrice</div>
      </div>
    </div>
  </aside>

  <!-- Main -->
  <div class="main-wrapper">

    <!-- Topbar -->
    <header class="topbar">
      <div class="topbar-breadcrumb">
        <a href="../index.html">Libero</a>
        <span class="topbar-breadcrumb-sep">&rsaquo;</span>
        <a href="./index.html">Mode Conversationnel</a>
        <span class="topbar-breadcrumb-sep">&rsaquo;</span>
        <span class="topbar-breadcrumb-current">Journal d'activite</span>
      </div>
      <div class="topbar-search"><input type="text" class="topbar-search-input" placeholder="Rechercher... (&#8984;K)"></div>
      <div class="topbar-actions">
        <button class="topbar-icon-btn"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg><span class="notification-dot"></span></button>
        <div class="topbar-avatar">ML</div>
      </div>
    </header>

    <!-- Content -->
    <div class="main-content">

      <!-- Page header -->
      <div class="page-header">
        <div class="page-header-left">
          <a href="./index.html" style="font-size:13px;color:var(--color-text-secondary);text-decoration:none;display:inline-flex;align-items:center;gap:4px;margin-bottom:8px;">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
            Retour au mode conversationnel
          </a>
          <h1 class="page-title">Journal d'activite <span style="display:inline-block;vertical-align:middle;background:#5B4FD4;color:#fff;font-size:11px;font-family:var(--font-body);font-weight:600;padding:3px 10px;border-radius:99px;margin-left:8px;">Vision 2026-2027</span></h1>
          <p class="page-subtitle">Historique et audit de toutes les actions executees par l'agent IA</p>
        </div>
        <div class="page-header-actions">
          <button class="btn btn-secondary btn-sm">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            Exporter
          </button>
        </div>
      </div>

      <!-- Stats row -->
      <div class="activity-stats">
        <div class="stat-widget">
          <div class="stat-widget-label">Actions aujourd'hui</div>
          <div class="stat-widget-value">5</div>
          <div class="stat-widget-trend stat-widget-trend--up">+2 vs hier</div>
        </div>
        <div class="stat-widget">
          <div class="stat-widget-label">Actions cette semaine</div>
          <div class="stat-widget-value">23</div>
          <div class="stat-widget-trend stat-widget-trend--up">+18% vs sem. prec.</div>
        </div>
        <div class="stat-widget">
          <div class="stat-widget-label">Taux de succes</div>
          <div class="stat-widget-value">97.4%</div>
          <div class="stat-widget-trend stat-widget-trend--up">Stable</div>
        </div>
        <div class="stat-widget">
          <div class="stat-widget-label">Actions annulees</div>
          <div class="stat-widget-value">1</div>
          <div class="stat-widget-trend" style="color:var(--color-text-muted);background:var(--color-neutral-100);">Ce mois</div>
        </div>
      </div>

      <!-- Filters -->
      <div class="activity-filters">
        <div class="activity-filters-group">
          <button class="filter-btn active">Aujourd'hui</button>
          <button class="filter-btn">7 jours</button>
          <button class="filter-btn">30 jours</button>
        </div>
        <select class="filter-dropdown">
          <option>Type d'action : Tous</option>
          <option>Subventions</option>
          <option>Contacts</option>
          <option>Emails</option>
          <option>Segments</option>
          <option>Fiscalite</option>
          <option>Campagnes</option>
        </select>
      </div>

      <!-- Today section -->
      <div class="section-date">Aujourd'hui &mdash; 14 janvier 2025</div>

      <div class="timeline activity-timeline">

        <!-- 14:32 -->
        <div class="timeline-item">
          <div class="timeline-icon timeline-icon--green">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="15" y2="15"/></svg>
          </div>
          <div class="timeline-content">
            <div class="timeline-title">Agent a cree la subvention SUB-2025-089</div>
            <div class="timeline-row" style="margin-top:var(--space-1);">
              <span class="timeline-time">14:32</span>
              <span class="timeline-detail">Fondation Botnar, CHF 50 000</span>
              <span class="badge badge-success">Subvention</span>
              <span class="timeline-initiator">Initie par : Marie L.</span>
              <a href="#" class="timeline-undo">Annuler</a>
            </div>
          </div>
        </div>

        <!-- 14:31 -->
        <div class="timeline-item">
          <div class="timeline-icon timeline-icon--sky">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
          </div>
          <div class="timeline-content">
            <div class="timeline-title">Agent a lie le bailleur Fondation Botnar a la subvention</div>
            <div class="timeline-row" style="margin-top:var(--space-1);">
              <span class="timeline-time">14:31</span>
              <span class="timeline-detail">Bailleur existant</span>
              <span class="badge badge-info">Bailleur</span>
              <span class="timeline-initiator">Initie par : Marie L.</span>
              <a href="#" class="timeline-undo">Annuler</a>
            </div>
          </div>
        </div>

        <!-- 11:15 -->
        <div class="timeline-item">
          <div class="timeline-icon timeline-icon--amber">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
          </div>
          <div class="timeline-content">
            <div class="timeline-title">Agent a genere 127 recus fiscaux 2024</div>
            <div class="timeline-row" style="margin-top:var(--space-1);">
              <span class="timeline-time">11:15</span>
              <span class="timeline-detail">PDF &middot; 2.4 Mo total</span>
              <span class="badge badge-warning">Fiscalite</span>
              <span class="timeline-initiator">Initie par : Admin</span>
            </div>
          </div>
        </div>

        <!-- 11:14 -->
        <div class="timeline-item">
          <div class="timeline-icon timeline-icon--indigo">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          </div>
          <div class="timeline-content">
            <div class="timeline-title">Agent a envoye les recus par email a 127 donateurs</div>
            <div class="timeline-row" style="margin-top:var(--space-1);">
              <span class="timeline-time">11:14</span>
              <span class="badge badge-error">Email</span>
              <span class="timeline-warning">
                <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                3 echecs &mdash; adresses invalides
              </span>
              <span class="timeline-initiator">Initie par : Admin</span>
            </div>
          </div>
        </div>

        <!-- 09:45 -->
        <div class="timeline-item">
          <div class="timeline-icon timeline-icon--green">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          </div>
          <div class="timeline-content">
            <div class="timeline-title">Agent a cree le segment LYBUNT 2024</div>
            <div class="timeline-row" style="margin-top:var(--space-1);">
              <span class="timeline-time">09:45</span>
              <span class="timeline-detail">127 contacts</span>
              <span class="badge badge-success">Segment</span>
              <span class="timeline-initiator">Initie par : Marie L.</span>
              <a href="#" class="timeline-undo">Annuler</a>
            </div>
          </div>
        </div>

      </div>

      <!-- Yesterday section -->
      <div class="section-date">Hier &mdash; 13 janvier 2025</div>

      <div class="timeline activity-timeline">

        <!-- 17:22 -->
        <div class="timeline-item">
          <div class="timeline-icon timeline-icon--amber">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
          </div>
          <div class="timeline-content">
            <div class="timeline-title">Agent a planifie la campagne Reactivation LYBUNT</div>
            <div class="timeline-row" style="margin-top:var(--space-1);">
              <span class="timeline-time">17:22</span>
              <span class="timeline-detail">342 emails, envoi 14 janvier</span>
              <span class="badge badge-warning">Campagne</span>
              <span class="timeline-initiator">Initie par : Marie L.</span>
            </div>
          </div>
        </div>

        <!-- 14:10 -->
        <div class="timeline-item">
          <div class="timeline-icon timeline-icon--sky">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
          </div>
          <div class="timeline-content">
            <div class="timeline-title">Agent a mis a jour 23 fiches donateurs</div>
            <div class="timeline-row" style="margin-top:var(--space-1);">
              <span class="timeline-time">14:10</span>
              <span class="timeline-detail">Enrichissement donnees postales</span>
              <span class="badge badge-info">Contacts</span>
              <span class="timeline-initiator">Initie par : Admin</span>
            </div>
          </div>
        </div>

      </div>

      <!-- Annotation -->
      <div class="annotation">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
        Pattern UX : chaque action est tracee et auditable
      </div>

    </div><!-- /main-content -->
  </div><!-- /main-wrapper -->
</div><!-- /app-layout -->

<script src="../shared/mobile.js"></script>
</body>
</html>
