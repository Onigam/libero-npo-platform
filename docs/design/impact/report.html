<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rapport d&#8217;impact &mdash; Libero NPO Platform</title>
  <link rel="stylesheet" href="../shared/tokens.css">
  <link rel="stylesheet" href="../shared/base.css">
  <style>
    /* ── Page-specific: IMP-003 Report Generator ── */

    /* Topbar search shortcut badge */
    .search-shortcut {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      background: var(--color-neutral-100);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      padding: 1px 6px;
      font-family: var(--font-mono);
      pointer-events: none;
    }

    .topbar-search {
      position: relative;
    }

    /* Sidebar org logo */
    .sidebar-footer-org-logo {
      width: 32px;
      height: 32px;
      background: rgba(255,255,255,0.15);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--text-xs);
      font-weight: var(--weight-bold);
      flex-shrink: 0;
    }

    /* Two-column report layout: config left, preview right */
    .report-layout {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: var(--space-6);
    }

    .report-col {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }

    /* Period option cards */
    .period-options {
      display: flex;
      gap: var(--space-2);
    }

    .period-option {
      flex: 1;
      padding: var(--space-2) var(--space-3);
      background: var(--color-white);
      border: 2px solid var(--color-border);
      border-radius: var(--radius-md);
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
      color: var(--color-text);
      text-align: center;
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-out);
    }

    .period-option:hover {
      border-color: var(--color-primary);
    }

    .period-option.selected {
      border-color: var(--color-primary);
      background: var(--color-primary-50);
      color: var(--color-primary-dark);
    }

    /* Custom date range row */
    .date-range-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-3);
      margin-top: var(--space-2);
    }

    .date-range-row .form-input {
      opacity: 0.5;
      pointer-events: none;
    }

    /* Checkbox list */
    .checkbox-list {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }

    .select-all-link {
      font-size: var(--text-xs);
      color: var(--color-sky);
      cursor: pointer;
      margin-top: var(--space-1);
    }

    .select-all-link:hover {
      text-decoration: underline;
    }

    /* Report preview — document style */
    .report-preview {
      background: var(--color-white);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-card);
      padding: var(--space-8);
      border: 1px solid var(--color-border);
    }

    .report-preview-header {
      margin-bottom: var(--space-6);
      padding-bottom: var(--space-6);
      border-bottom: 1px solid var(--color-border);
    }

    .report-preview-header h2 {
      font-family: var(--font-heading);
      font-size: var(--text-2xl);
      color: var(--color-text);
      margin-bottom: var(--space-1);
    }

    .report-preview-header .org-name {
      font-size: var(--text-md);
      color: var(--color-text-secondary);
      margin-bottom: var(--space-1);
    }

    .report-preview-header .period-label {
      font-size: var(--text-sm);
      color: var(--color-text-muted);
    }

    /* Sections within the preview */
    .report-section {
      margin-bottom: var(--space-6);
    }

    .report-section:last-child {
      margin-bottom: 0;
    }

    .report-section-title {
      font-family: var(--font-heading);
      font-size: var(--text-lg);
      color: var(--color-text);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid var(--color-neutral-100);
    }

    /* AI narrative block */
    .narrative-block {
      background: var(--color-primary-50);
      border-left: 3px solid var(--color-primary);
      border-radius: 0 var(--radius-md) var(--radius-md) 0;
      padding: var(--space-4);
    }

    .narrative-block p {
      font-size: var(--text-sm);
      line-height: var(--leading-relaxed);
      color: var(--color-text);
      margin-bottom: var(--space-2);
    }

    .narrative-block .ai-label {
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      font-style: italic;
    }

    /* Compact stat widgets for the preview */
    .compact-stat {
      background: var(--color-neutral-50);
      border: 1px solid var(--color-neutral-200);
      border-radius: var(--radius-md);
      padding: var(--space-4);
    }

    .compact-stat-label {
      font-size: var(--text-xs);
      font-weight: var(--weight-medium);
      color: var(--color-text-secondary);
      margin-bottom: var(--space-2);
    }

    .compact-stat-value {
      font-family: var(--font-mono);
      font-size: var(--text-lg);
      font-weight: var(--weight-bold);
      color: var(--color-text);
      margin-bottom: var(--space-1);
    }

    .compact-stat-meta {
      font-size: var(--text-xs);
      color: var(--color-text-secondary);
      margin-bottom: var(--space-2);
    }

    .compact-stat .progress {
      height: 6px;
    }

    /* Chart placeholder */
    .chart-container {
      background: var(--color-neutral-50);
      border: 1px solid var(--color-neutral-200);
      border-radius: var(--radius-md);
      padding: var(--space-4);
    }

    .chart-legend {
      display: flex;
      gap: var(--space-4);
      margin-bottom: var(--space-3);
      justify-content: center;
    }

    .chart-legend-item {
      display: flex;
      align-items: center;
      gap: var(--space-1);
      font-size: var(--text-xs);
      color: var(--color-text-secondary);
    }

    .chart-legend-dot {
      width: 8px;
      height: 8px;
      border-radius: var(--radius-full);
    }

    .chart-legend-dot--green {
      background: var(--color-primary);
    }

    .chart-legend-dot--sky {
      background: var(--color-sky);
    }

    /* Compact program table */
    .program-table {
      width: 100%;
      border-collapse: collapse;
      font-size: var(--text-sm);
    }

    .program-table th {
      text-align: left;
      font-size: var(--text-xs);
      font-weight: var(--weight-semi);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
      color: var(--color-text-secondary);
      padding: var(--space-2) var(--space-3);
      border-bottom: 1px solid var(--color-border);
    }

    .program-table td {
      padding: var(--space-3);
      border-bottom: 1px solid var(--color-neutral-100);
      vertical-align: middle;
    }

    .program-table .cell-name {
      font-weight: var(--weight-medium);
      color: var(--color-text);
    }

    .program-table .progress {
      height: 6px;
      min-width: 80px;
    }

    /* Generation timestamp */
    .generation-meta {
      margin-top: var(--space-3);
      text-align: right;
    }
  </style>
</head>
<body>

  <div class="app-layout">

    <!-- ============================================================
         SIDEBAR
         ============================================================ -->
    <aside class="sidebar">
  <div class="sidebar-brand">
    <div class="sidebar-brand-logo">L</div>
    <span class="sidebar-brand-text">Libero</span>
  </div>
  <nav class="sidebar-nav">
    <a href="../dashboard.html" class="nav-item">
      <svg class="nav-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
      <span>Dashboard</span>
    </a>
    <a href="../constituents/list.html" class="nav-item">
      <svg class="nav-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
      <span>Constituants</span>
    </a>
    <a href="../donations/list.html" class="nav-item">
      <svg class="nav-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
      <span>Dons &amp; Campagnes</span>
    </a>
    <a href="../grants/kanban.html" class="nav-item">
      <svg class="nav-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="22" x2="21" y2="22"/><line x1="6" y1="18" x2="6" y2="11"/><line x1="10" y1="18" x2="10" y2="2"/><line x1="14" y1="18" x2="14" y2="11"/><line x1="18" y1="18" x2="18" y2="6"/></svg>
      <span>Subventions</span>
    </a>
    <a href="../programs/list.html" class="nav-item">
      <svg class="nav-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>
      <span>Programmes</span>
    </a>
    <a href="../volunteers/list.html" class="nav-item">
      <svg class="nav-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/><path d="M12 21.23V12"/><path d="M8.7 8.7 12 12l3.3-3.3"/></svg>
      <span>Bénévoles</span>
    </a>
    <a href="dashboard.html" class="nav-item nav-item--active">
      <svg class="nav-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
      <span>Impact</span>
    </a>
    <a href="../communications/list.html" class="nav-item">
      <svg class="nav-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
      <span>Communications</span>
    </a>
    <a href="../reports/library.html" class="nav-item">
      <svg class="nav-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
      <span>Rapports</span>
    </a>
    <a href="../admin/index.html" class="nav-item">
      <svg class="nav-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/><path d="M4.93 4.93a10 10 0 0 0 0 14.14"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="M2 12h2"/><path d="M20 12h2"/></svg>
      <span>Paramètres</span>
    </a>
  </nav>
  <div class="sidebar-footer">
    <div class="sidebar-footer-org">Association Solidarité Méd.</div>
    <div class="sidebar-footer-user">
      <div class="sidebar-footer-avatar">CM</div>
      <span class="sidebar-footer-name">Claire Martin</span>
    </div>
  </div>
</aside>

    <!-- ============================================================
         MAIN WRAPPER
         ============================================================ -->
    <div class="main-wrapper">

      <!-- ── Topbar ── -->
      <header class="topbar">
        <nav class="topbar-breadcrumb" aria-label="Fil d'Ariane">
          <a href="dashboard.html">Impact</a>
          <span class="topbar-breadcrumb-sep">&#8250;</span>
          <span class="topbar-breadcrumb-current">Rapport d&#8217;impact</span>
        </nav>

        <a href="../global/command-palette.html" class="topbar-search">
          <input
            type="text"
            class="topbar-search-input"
            placeholder="Rechercher..."
          >
          <span class="search-shortcut">&#8984;K</span>
        </a>

        <div class="topbar-actions">
          <a href="../global/notifications.html" class="topbar-icon-btn" title="Notifications" aria-label="Notifications">
            &#128276;
            <span class="notification-dot"></span>
          </a>
          <a href="../admin/users.html" class="topbar-avatar" title="Claire Dubois">CD</a>
        </div>
      </header>

      <!-- ── Main Content ── -->
      <main class="main-content">

        <!-- Page Header -->
        <div class="page-header">
          <div class="page-header-left">
            <h1 class="page-title">Rapport d&#8217;impact</h1>
            <p class="page-subtitle">G&#233;n&#233;rez et partagez vos rapports d&#8217;impact.</p>
          </div>
          <div class="page-header-actions">
            <button class="btn btn-ghost" type="button">Copier le lien</button>
            <button class="btn btn-secondary" type="button">Exporter PDF</button>
            <button class="btn btn-primary" type="button">Partager</button>
          </div>
        </div>

        <!-- Two-column layout -->
        <div class="report-layout">

          <!-- ============================================================
               LEFT COLUMN — Configuration panel
               ============================================================ -->
          <div class="report-col">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Param&#232;tres du rapport</h3>
              </div>
              <div class="card-body">

                <!-- 1. Période -->
                <div class="form-group">
                  <label class="form-label">P&#233;riode</label>
                  <div class="period-options">
                    <div class="period-option selected">T1 2026</div>
                    <div class="period-option">Ann&#233;e 2025</div>
                    <div class="period-option">Personnalis&#233;</div>
                  </div>
                  <div class="date-range-row">
                    <input type="date" class="form-input" value="2026-01-01" disabled>
                    <input type="date" class="form-input" value="2026-03-31" disabled>
                  </div>
                </div>

                <div class="divider" style="margin: var(--space-4) 0;"></div>

                <!-- 2. Programmes -->
                <div class="form-group">
                  <label class="form-label">Programmes</label>
                  <div class="checkbox-list">
                    <label class="checkbox-label">
                      <input type="checkbox" checked>
                      Aide alimentaire
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" checked>
                      Insertion professionnelle
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox">
                      Formation linguistique
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" checked>
                      H&#233;bergement d&#8217;urgence
                    </label>
                  </div>
                  <a href="#" class="select-all-link">Tout s&#233;lectionner</a>
                </div>

                <div class="divider" style="margin: var(--space-4) 0;"></div>

                <!-- 3. Indicateurs à inclure -->
                <div class="form-group">
                  <label class="form-label">Indicateurs &#224; inclure</label>
                  <div class="checkbox-list">
                    <label class="checkbox-label">
                      <input type="checkbox" checked>
                      Repas servis
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" checked>
                      B&#233;n&#233;ficiaires accompagn&#233;s
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" checked>
                      Taux de r&#233;insertion
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox">
                      Heures de formation
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" checked>
                      Logements attribu&#233;s
                    </label>
                  </div>
                  <a href="#" class="select-all-link">Tout s&#233;lectionner</a>
                </div>

                <div class="divider" style="margin: var(--space-4) 0;"></div>

                <!-- 4. Options -->
                <div class="form-group" style="margin-bottom: var(--space-4);">
                  <label class="form-label">Options</label>
                  <div class="checkbox-list">
                    <label class="checkbox-label">
                      <input type="checkbox" checked>
                      Inclure les graphiques
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" checked>
                      Inclure le narratif IA
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox">
                      Inclure les donn&#233;es brutes
                    </label>
                  </div>
                </div>

                <!-- Generate button -->
                <button class="btn btn-primary w-full" type="button">G&#233;n&#233;rer l&#8217;aper&#231;u</button>

              </div>
            </div>
          </div>

          <!-- ============================================================
               RIGHT COLUMN — Report preview
               ============================================================ -->
          <div class="report-col">
            <div class="card" style="padding: 0;">
              <div class="card-header" style="padding: var(--space-4) var(--space-6); border-bottom: 1px solid var(--color-neutral-100); margin-bottom: 0;">
                <h3 class="card-title">Aper&#231;u du rapport</h3>
                <span class="badge badge-success">G&#233;n&#233;r&#233;</span>
              </div>

              <!-- Report document preview -->
              <div class="report-preview" style="border: none; box-shadow: none; border-radius: 0 0 var(--radius-md) var(--radius-md);">

                <!-- Report Title Section -->
                <div class="report-preview-header">
                  <h2>Rapport d&#8217;Impact &mdash; T1 2026</h2>
                  <div class="org-name">Association Solidarit&#233; M&#233;diterran&#233;e</div>
                  <div class="period-label">P&#233;riode : Janvier &mdash; Mars 2026</div>
                </div>

                <!-- Section: Résumé exécutif -->
                <div class="report-section">
                  <div class="report-section-title">R&#233;sum&#233; ex&#233;cutif</div>
                  <div class="narrative-block">
                    <p>
                      Au premier trimestre 2026, l&#8217;Association Solidarit&#233; M&#233;diterran&#233;e a servi
                      <strong>12&nbsp;450 repas</strong> (+8% par rapport au trimestre pr&#233;c&#233;dent),
                      accompagn&#233; <strong>342 b&#233;n&#233;ficiaires</strong> dans leur parcours d&#8217;insertion,
                      et maintenu un taux de r&#233;insertion de <strong>67%</strong>. Le programme d&#8217;aide
                      alimentaire reste le plus impactant en volume, tandis que le programme d&#8217;insertion
                      montre une progression constante.
                    </p>
                    <span class="ai-label">G&#233;n&#233;r&#233; par IA &mdash; &#224; valider</span>
                  </div>
                </div>

                <!-- Section: Indicateurs clés -->
                <div class="report-section">
                  <div class="report-section-title">Indicateurs cl&#233;s</div>
                  <div class="grid-2">

                    <!-- Repas servis -->
                    <div class="compact-stat">
                      <div class="compact-stat-label">Repas servis</div>
                      <div class="compact-stat-value">12&nbsp;450</div>
                      <div class="compact-stat-meta">sur 15&nbsp;000 (83%)</div>
                      <div class="progress">
                        <div class="progress-fill" style="width: 83%;"></div>
                      </div>
                    </div>

                    <!-- Bénéficiaires -->
                    <div class="compact-stat">
                      <div class="compact-stat-label">B&#233;n&#233;ficiaires</div>
                      <div class="compact-stat-value">342</div>
                      <div class="compact-stat-meta">sur 400 (86%)</div>
                      <div class="progress">
                        <div class="progress-fill" style="width: 86%;"></div>
                      </div>
                    </div>

                    <!-- Réinsertion -->
                    <div class="compact-stat">
                      <div class="compact-stat-label">R&#233;insertion</div>
                      <div class="compact-stat-value">67%</div>
                      <div class="compact-stat-meta">objectif 75%</div>
                      <div class="progress">
                        <div class="progress-fill progress-fill--amber" style="width: 89%;"></div>
                      </div>
                    </div>

                    <!-- Logements -->
                    <div class="compact-stat">
                      <div class="compact-stat-label">Logements attribu&#233;s</div>
                      <div class="compact-stat-value">48</div>
                      <div class="compact-stat-meta">sur 60 (80%)</div>
                      <div class="progress">
                        <div class="progress-fill" style="width: 80%;"></div>
                      </div>
                    </div>

                  </div>
                </div>

                <!-- Section: Évolution -->
                <div class="report-section">
                  <div class="report-section-title">&#201;volution</div>
                  <div class="chart-container">
                    <div class="chart-legend">
                      <div class="chart-legend-item">
                        <span class="chart-legend-dot chart-legend-dot--green"></span>
                        Repas servis
                      </div>
                      <div class="chart-legend-item">
                        <span class="chart-legend-dot chart-legend-dot--sky"></span>
                        B&#233;n&#233;ficiaires
                      </div>
                    </div>
                    <svg viewBox="0 0 600 200" width="100%" height="200" style="display: block;">
                      <!-- Grid lines -->
                      <line x1="60" y1="20" x2="60" y2="170" stroke="#E4E0D9" stroke-width="1"/>
                      <line x1="60" y1="170" x2="570" y2="170" stroke="#E4E0D9" stroke-width="1"/>
                      <line x1="60" y1="120" x2="570" y2="120" stroke="#E4E0D9" stroke-width="0.5" stroke-dasharray="4,4"/>
                      <line x1="60" y1="70" x2="570" y2="70" stroke="#E4E0D9" stroke-width="0.5" stroke-dasharray="4,4"/>
                      <line x1="60" y1="20" x2="570" y2="20" stroke="#E4E0D9" stroke-width="0.5" stroke-dasharray="4,4"/>

                      <!-- Y-axis labels (Repas: 0 to 1600) -->
                      <text x="50" y="174" text-anchor="end" font-size="10" fill="#A8A29E" font-family="Inter, sans-serif">0</text>
                      <text x="50" y="124" text-anchor="end" font-size="10" fill="#A8A29E" font-family="Inter, sans-serif">500</text>
                      <text x="50" y="74" text-anchor="end" font-size="10" fill="#A8A29E" font-family="Inter, sans-serif">1 000</text>
                      <text x="50" y="24" text-anchor="end" font-size="10" fill="#A8A29E" font-family="Inter, sans-serif">1 500</text>

                      <!-- X-axis labels -->
                      <text x="110" y="190" text-anchor="middle" font-size="10" fill="#A8A29E" font-family="Inter, sans-serif">Oct</text>
                      <text x="212" y="190" text-anchor="middle" font-size="10" fill="#A8A29E" font-family="Inter, sans-serif">Nov</text>
                      <text x="314" y="190" text-anchor="middle" font-size="10" fill="#A8A29E" font-family="Inter, sans-serif">D&#233;c</text>
                      <text x="416" y="190" text-anchor="middle" font-size="10" fill="#A8A29E" font-family="Inter, sans-serif">Jan</text>
                      <text x="518" y="190" text-anchor="middle" font-size="10" fill="#A8A29E" font-family="Inter, sans-serif">F&#233;v</text>
                      <text x="570" y="190" text-anchor="middle" font-size="10" fill="#A8A29E" font-family="Inter, sans-serif">Mar</text>

                      <!-- Repas servis line (green): 1100, 1150, 1300, 1350, 1400, 1500 -->
                      <!-- Y mapping: value -> 170 - (value / 1600 * 150) -->
                      <!-- 1100 -> 170 - 103.1 = 66.9 -->
                      <!-- 1150 -> 170 - 107.8 = 62.2 -->
                      <!-- 1300 -> 170 - 121.9 = 48.1 -->
                      <!-- 1350 -> 170 - 126.6 = 43.4 -->
                      <!-- 1400 -> 170 - 131.3 = 38.8 -->
                      <!-- 1500 -> 170 - 140.6 = 29.4 -->
                      <polyline
                        points="110,66.9 212,62.2 314,48.1 416,43.4 518,38.8 570,29.4"
                        fill="none"
                        stroke="#2E7D5E"
                        stroke-width="2.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <circle cx="110" cy="66.9" r="4" fill="#2E7D5E"/>
                      <circle cx="212" cy="62.2" r="4" fill="#2E7D5E"/>
                      <circle cx="314" cy="48.1" r="4" fill="#2E7D5E"/>
                      <circle cx="416" cy="43.4" r="4" fill="#2E7D5E"/>
                      <circle cx="518" cy="38.8" r="4" fill="#2E7D5E"/>
                      <circle cx="570" cy="29.4" r="4" fill="#2E7D5E"/>

                      <!-- Bénéficiaires line (sky): 280, 290, 300, 310, 330, 342 -->
                      <!-- Y mapping: value -> 170 - (value / 1600 * 150) -->
                      <!-- 280 -> 170 - 26.3 = 143.8 -->
                      <!-- 290 -> 170 - 27.2 = 142.8 -->
                      <!-- 300 -> 170 - 28.1 = 141.9 -->
                      <!-- 310 -> 170 - 29.1 = 140.9 -->
                      <!-- 330 -> 170 - 30.9 = 139.1 -->
                      <!-- 342 -> 170 - 32.1 = 137.9 -->
                      <polyline
                        points="110,143.8 212,142.8 314,141.9 416,140.9 518,139.1 570,137.9"
                        fill="none"
                        stroke="#2E79A6"
                        stroke-width="2.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <circle cx="110" cy="143.8" r="4" fill="#2E79A6"/>
                      <circle cx="212" cy="142.8" r="4" fill="#2E79A6"/>
                      <circle cx="314" cy="141.9" r="4" fill="#2E79A6"/>
                      <circle cx="416" cy="140.9" r="4" fill="#2E79A6"/>
                      <circle cx="518" cy="139.1" r="4" fill="#2E79A6"/>
                      <circle cx="570" cy="137.9" r="4" fill="#2E79A6"/>
                    </svg>
                  </div>
                </div>

                <!-- Section: Par programme -->
                <div class="report-section">
                  <div class="report-section-title">Par programme</div>
                  <table class="program-table">
                    <thead>
                      <tr>
                        <th>Programme</th>
                        <th>Indicateur cl&#233;</th>
                        <th style="width: 120px;">Progr&#232;s</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="cell-name"><a href="../programs/detail.html">Aide alimentaire</a></td>
                        <td><span class="text-mono" style="font-size: var(--text-sm);">12&nbsp;450</span> <span class="text-xs text-muted">repas</span></td>
                        <td>
                          <div class="progress">
                            <div class="progress-fill" style="width: 83%;"></div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td class="cell-name"><a href="../programs/detail.html">Insertion professionnelle</a></td>
                        <td><span class="text-mono" style="font-size: var(--text-sm);">67%</span> <span class="text-xs text-muted">r&#233;insertion</span></td>
                        <td>
                          <div class="progress">
                            <div class="progress-fill progress-fill--amber" style="width: 89%;"></div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td class="cell-name"><a href="../programs/detail.html">H&#233;bergement d&#8217;urgence</a></td>
                        <td><span class="text-mono" style="font-size: var(--text-sm);">48</span> <span class="text-xs text-muted">logements</span></td>
                        <td>
                          <div class="progress">
                            <div class="progress-fill" style="width: 80%;"></div>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

              </div>
            </div>

            <!-- Generation timestamp -->
            <div class="generation-meta">
              <span class="text-xs text-muted">Derni&#232;re g&#233;n&#233;ration : il y a 5 minutes</span>
            </div>
          </div>

        </div><!-- /report-layout -->

      </main>

    </div><!-- /main-wrapper -->

  </div><!-- /app-layout -->

</body>
</html>
