<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Statistiques campagne &mdash; Libero NPO Platform</title>
  <link rel="stylesheet" href="../shared/tokens.css">
  <link rel="stylesheet" href="../shared/base.css">
  <style>
    /* ── Page-specific styles for campaigns/stats (CAMP-004) ── */

    /* Stats row — 5 columns */
    .stats-row-5 {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: var(--space-4);
    }

    @media (max-width: 1024px) {
      .stats-row-5 {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    /* ── Charts grid ── */
    .charts-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-4);
      margin-top: var(--space-6);
    }

    @media (max-width: 1024px) {
      .charts-grid {
        grid-template-columns: 1fr;
      }
    }

    /* ── Line chart (CSS bar simulation) ── */
    .bar-chart {
      display: flex;
      align-items: flex-end;
      gap: var(--space-1-5);
      height: 180px;
      padding-top: var(--space-4);
    }

    .bar-chart-col {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--space-1);
      height: 100%;
      justify-content: flex-end;
    }

    .bar-chart-bar {
      width: 100%;
      border-radius: var(--radius-sm) var(--radius-sm) 0 0;
      transition: height var(--duration-slow) var(--ease-out);
      min-height: 2px;
    }

    .bar-chart-bar--green {
      background: var(--color-primary);
    }

    .bar-chart-bar--light {
      background: var(--color-primary-100);
    }

    .bar-chart-label {
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      white-space: nowrap;
    }

    .bar-chart-value {
      font-size: var(--text-xs);
      font-family: var(--font-mono);
      color: var(--color-text-secondary);
      font-weight: var(--weight-medium);
    }

    /* ── SVG Line chart ── */
    .line-chart-container {
      position: relative;
      height: 200px;
      padding: var(--space-2) 0;
    }

    .line-chart-svg {
      width: 100%;
      height: 100%;
    }

    .line-chart-legend {
      display: flex;
      align-items: center;
      gap: var(--space-4);
      margin-top: var(--space-3);
      font-size: var(--text-xs);
      color: var(--color-text-secondary);
    }

    .legend-dot {
      width: 8px;
      height: 8px;
      border-radius: var(--radius-full);
      display: inline-block;
      margin-right: var(--space-1);
    }

    .legend-dot--green { background: var(--color-primary); }
    .legend-dot--light { background: var(--color-primary-100); }

    /* ── Pie chart (conic gradient) ── */
    .pie-chart-container {
      display: flex;
      align-items: center;
      gap: var(--space-6);
    }

    .pie-chart {
      width: 140px;
      height: 140px;
      border-radius: var(--radius-full);
      background: conic-gradient(
        var(--color-primary) 0deg 223.2deg,
        var(--color-primary-100) 223.2deg 360deg
      );
      flex-shrink: 0;
      position: relative;
    }

    .pie-chart-hole {
      position: absolute;
      top: 28px;
      left: 28px;
      width: 84px;
      height: 84px;
      background: var(--color-white);
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .pie-chart-center-value {
      font-family: var(--font-mono);
      font-size: var(--text-lg);
      font-weight: var(--weight-bold);
      color: var(--color-text);
      line-height: 1;
    }

    .pie-chart-center-label {
      font-size: var(--text-xs);
      color: var(--color-text-secondary);
      margin-top: var(--space-0-5);
    }

    .pie-chart-legend {
      display: flex;
      flex-direction: column;
      gap: var(--space-3);
    }

    .pie-legend-item {
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }

    .pie-legend-dot {
      width: 12px;
      height: 12px;
      border-radius: 3px;
      flex-shrink: 0;
    }

    .pie-legend-dot--primary { background: var(--color-primary); }
    .pie-legend-dot--light { background: var(--color-primary-100); }

    .pie-legend-text {
      font-size: var(--text-sm);
      color: var(--color-text);
    }

    .pie-legend-value {
      font-family: var(--font-mono);
      font-size: var(--text-sm);
      font-weight: var(--weight-semi);
      color: var(--color-text);
      margin-left: auto;
    }

    /* ── Channel bar chart (horizontal) ── */
    .hbar-chart {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }

    .hbar-row {
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }

    .hbar-label {
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
      color: var(--color-text);
      min-width: 80px;
    }

    .hbar-track {
      flex: 1;
      height: 24px;
      background: var(--color-neutral-100);
      border-radius: var(--radius-sm);
      overflow: hidden;
    }

    .hbar-fill {
      height: 100%;
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      padding-left: var(--space-2);
      font-size: var(--text-xs);
      font-weight: var(--weight-semi);
      color: var(--color-white);
      transition: width var(--duration-slow) var(--ease-out);
    }

    .hbar-fill--green { background: var(--color-primary); }
    .hbar-fill--sky { background: var(--color-sky); }
    .hbar-fill--amber { background: var(--color-amber); }

    .hbar-value {
      font-family: var(--font-mono);
      font-size: var(--text-sm);
      font-weight: var(--weight-semi);
      color: var(--color-text-secondary);
      min-width: 36px;
      text-align: right;
    }

    /* ── Top donateurs table ── */
    .section-mt { margin-top: var(--space-6); }

    /* ── AI card full width ── */
    .ai-card-fullwidth {
      max-width: 100%;
    }

    /* ── Export buttons row ── */
    .export-row {
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }

    /* ── Page header title row ── */
    .page-header-title-row {
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }
  </style>
</head>
<body>

  <div class="app-layout">

    <!-- ============================== -->
    <!--           Sidebar               -->
    <!-- ============================== -->
    <aside class="sidebar">
      <div class="sidebar-brand">
        <div class="sidebar-brand-logo">L</div>
        <span class="sidebar-brand-text">Libero</span>
      </div>

      <nav class="sidebar-nav">
        <a href="#" class="nav-item">
          <span class="nav-item-icon">&#9634;</span>
          <span class="nav-item-label">Dashboard</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-item-icon">&#9823;</span>
          <span class="nav-item-label">Constituants</span>
        </a>
        <a href="#" class="nav-item active">
          <span class="nav-item-icon">&#9829;</span>
          <span class="nav-item-label">Dons &amp; Campagnes</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-item-icon">&#9733;</span>
          <span class="nav-item-label">Subventions</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-item-icon">&#9881;</span>
          <span class="nav-item-label">Programmes</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-item-icon">&#9975;</span>
          <span class="nav-item-label">B&eacute;n&eacute;voles</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-item-icon">&#9673;</span>
          <span class="nav-item-label">Impact</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-item-icon">&#9993;</span>
          <span class="nav-item-label">Communications</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-item-icon">&#9783;</span>
          <span class="nav-item-label">Rapports</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-item-icon">&#9881;</span>
          <span class="nav-item-label">Param&egrave;tres</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <div class="sidebar-footer-avatar">CD</div>
        <div class="sidebar-footer-info">
          <div class="sidebar-footer-name">Claire Dubois</div>
          <div class="sidebar-footer-role">ASM &mdash; Association Solidarit&eacute; M&eacute;diterran&eacute;e</div>
        </div>
      </div>
    </aside>

    <!-- ============================== -->
    <!--         Main Wrapper            -->
    <!-- ============================== -->
    <div class="main-wrapper">

      <!-- Topbar -->
      <header class="topbar">
        <nav class="topbar-breadcrumb" aria-label="Fil d'Ariane">
          <a href="list.html">Campagnes</a>
          <span class="topbar-breadcrumb-sep">&#8250;</span>
          <a href="detail.html">Campagne &Eacute;t&eacute; 2026</a>
          <span class="topbar-breadcrumb-sep">&#8250;</span>
          <span class="topbar-breadcrumb-current">Statistiques</span>
        </nav>

        <div class="topbar-search">
          <input class="topbar-search-input" type="search" placeholder="Rechercher..." aria-label="Recherche globale">
        </div>

        <div class="topbar-actions">
          <button class="topbar-icon-btn" type="button" aria-label="Notifications">
            &#128276;
            <span class="notification-dot"></span>
          </button>
          <div class="topbar-avatar" aria-label="Profil Claire Dubois">CD</div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main-content">

        <!-- ============================================================
             PAGE HEADER
             ============================================================ -->
        <div class="page-header">
          <div class="page-header-left">
            <div class="page-header-title-row">
              <h1 class="page-title">Statistiques &mdash; Campagne &Eacute;t&eacute; 2026</h1>
              <span class="badge badge-success"><span class="badge-icon">&#10003;</span> Active</span>
            </div>
            <p class="page-subtitle">P&eacute;riode : 1 mai &mdash; 31 ao&ucirc;t 2026</p>
          </div>
          <div class="page-header-actions">
            <div class="export-row">
              <button class="btn btn-secondary" type="button">&#128196; Export PDF</button>
              <button class="btn btn-secondary" type="button">&#128462; Export CSV</button>
            </div>
          </div>
        </div>

        <!-- ============================================================
             STAT WIDGETS — 5 columns
             ============================================================ -->
        <div class="stats-row-5">
          <div class="stat-widget">
            <div class="stat-widget-label">Total collect&eacute;</div>
            <div class="stat-widget-value">&euro;47&nbsp;250</div>
            <div class="stat-widget-trend stat-widget-trend--up">&#9650; +22% vs N-1</div>
          </div>
          <div class="stat-widget">
            <div class="stat-widget-label">Donateurs</div>
            <div class="stat-widget-value">312</div>
            <div class="stat-widget-trend stat-widget-trend--up">&#9650; +45 ce mois</div>
          </div>
          <div class="stat-widget">
            <div class="stat-widget-label">Don moyen</div>
            <div class="stat-widget-value">&euro;151</div>
            <div class="stat-widget-trend stat-widget-trend--up">&#9650; +6%</div>
          </div>
          <div class="stat-widget">
            <div class="stat-widget-label">Taux r&eacute;ponse</div>
            <div class="stat-widget-value">34%</div>
            <div class="stat-widget-trend stat-widget-trend--down">&#9660; -2 pts</div>
          </div>
          <div class="stat-widget">
            <div class="stat-widget-label">ROI</div>
            <div class="stat-widget-value">4,2x</div>
            <div class="stat-widget-trend stat-widget-trend--up">&#9650; +0,8</div>
          </div>
        </div>

        <!-- ============================================================
             CHARTS — 2x2 grid
             ============================================================ -->
        <div class="charts-grid">

          <!-- Chart 1: Evolution des dons (line chart area) -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">&Eacute;volution des dons</h3>
              <span class="badge badge-neutral">8 semaines</span>
            </div>
            <div class="card-body">
              <div class="line-chart-container">
                <svg class="line-chart-svg" viewBox="0 0 600 180" preserveAspectRatio="none">
                  <!-- Grid lines -->
                  <line x1="0" y1="45" x2="600" y2="45" stroke="#E4E0D9" stroke-width="1" stroke-dasharray="4"/>
                  <line x1="0" y1="90" x2="600" y2="90" stroke="#E4E0D9" stroke-width="1" stroke-dasharray="4"/>
                  <line x1="0" y1="135" x2="600" y2="135" stroke="#E4E0D9" stroke-width="1" stroke-dasharray="4"/>
                  <!-- Area fill -->
                  <path d="M0,160 L75,130 L150,110 L225,95 L300,70 L375,50 L450,65 L525,40 L600,25 L600,180 L0,180 Z"
                        fill="#E8F5EE" opacity="0.7"/>
                  <!-- Line -->
                  <polyline points="0,160 75,130 150,110 225,95 300,70 375,50 450,65 525,40 600,25"
                            fill="none" stroke="#2E7D5E" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <!-- Data points -->
                  <circle cx="0" cy="160" r="4" fill="#2E7D5E"/>
                  <circle cx="75" cy="130" r="4" fill="#2E7D5E"/>
                  <circle cx="150" cy="110" r="4" fill="#2E7D5E"/>
                  <circle cx="225" cy="95" r="4" fill="#2E7D5E"/>
                  <circle cx="300" cy="70" r="4" fill="#2E7D5E"/>
                  <circle cx="375" cy="50" r="4" fill="#2E7D5E"/>
                  <circle cx="450" cy="65" r="4" fill="#2E7D5E"/>
                  <circle cx="525" cy="40" r="4" fill="#2E7D5E"/>
                  <circle cx="600" cy="25" r="4" fill="#2E7D5E"/>
                </svg>
              </div>
              <div class="line-chart-legend">
                <span><span class="legend-dot legend-dot--green"></span> Dons cumul&eacute;s</span>
              </div>
            </div>
          </div>

          <!-- Chart 2: Repartition par canal (horizontal bars) -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">R&eacute;partition par canal</h3>
            </div>
            <div class="card-body">
              <div class="hbar-chart">
                <div class="hbar-row">
                  <span class="hbar-label">Email</span>
                  <div class="hbar-track">
                    <div class="hbar-fill hbar-fill--green" style="width: 45%;">45%</div>
                  </div>
                  <span class="hbar-value">&euro;21 263</span>
                </div>
                <div class="hbar-row">
                  <span class="hbar-label">Courrier</span>
                  <div class="hbar-track">
                    <div class="hbar-fill hbar-fill--sky" style="width: 28%;">28%</div>
                  </div>
                  <span class="hbar-value">&euro;13 230</span>
                </div>
                <div class="hbar-row">
                  <span class="hbar-label">Digital</span>
                  <div class="hbar-track">
                    <div class="hbar-fill hbar-fill--amber" style="width: 27%;">27%</div>
                  </div>
                  <span class="hbar-value">&euro;12 758</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Chart 3: Nouveaux vs recurrents (pie chart) -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Nouveaux vs r&eacute;currents</h3>
            </div>
            <div class="card-body">
              <div class="pie-chart-container">
                <div class="pie-chart">
                  <div class="pie-chart-hole">
                    <span class="pie-chart-center-value">312</span>
                    <span class="pie-chart-center-label">donateurs</span>
                  </div>
                </div>
                <div class="pie-chart-legend">
                  <div class="pie-legend-item">
                    <span class="pie-legend-dot pie-legend-dot--primary"></span>
                    <span class="pie-legend-text">R&eacute;currents</span>
                    <span class="pie-legend-value">62%</span>
                  </div>
                  <div class="pie-legend-item">
                    <span class="pie-legend-dot pie-legend-dot--light"></span>
                    <span class="pie-legend-text">Nouveaux</span>
                    <span class="pie-legend-value">38%</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Chart 4: AI Insight card -->
          <div class="ai-card ai-card-fullwidth" style="align-self: start;">
            <div class="ai-card-header">
              <span class="ai-card-icon">&#10024;</span>
              <span class="ai-card-label">Insight IA</span>
            </div>
            <p class="ai-card-text">
              Le pic de dons le mardi co&iuml;ncide avec vos envois emails &mdash; envisagez de planifier vos campagnes courrier le lundi pour maximiser l'impact combin&eacute;.
            </p>
            <div class="ai-card-actions">
              <button class="btn btn-primary btn-sm" type="button">Voir l'analyse</button>
              <button class="btn btn-ghost btn-sm" type="button">Ignorer</button>
            </div>
          </div>

        </div>

        <!-- ============================================================
             TOP 10 DONATEURS TABLE
             ============================================================ -->
        <div class="card section-mt">
          <div class="card-header">
            <h3 class="card-title">Top 10 donateurs</h3>
            <span class="text-sm text-muted">Classement par montant total</span>
          </div>
          <div class="card-body">
            <div class="data-table-wrapper">
              <table class="data-table">
                <thead>
                  <tr>
                    <th style="width: 40px;">#</th>
                    <th>Donateur</th>
                    <th class="text-right">Montant total</th>
                    <th>Type</th>
                    <th>Dernier don</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="cell-mono">1</td>
                    <td class="cell-name">Pierre Lef&egrave;vre</td>
                    <td class="text-right cell-mono">&euro;5 000,00</td>
                    <td><span class="badge badge-info">Nouveau</span></td>
                    <td class="cell-secondary">12/07/2026</td>
                  </tr>
                  <tr>
                    <td class="cell-mono">2</td>
                    <td class="cell-name">Fondation Mercier</td>
                    <td class="text-right cell-mono">&euro;4 200,00</td>
                    <td><span class="badge badge-success">R&eacute;current</span></td>
                    <td class="cell-secondary">28/07/2026</td>
                  </tr>
                  <tr>
                    <td class="cell-mono">3</td>
                    <td class="cell-name">Marie-Claire Fontaine</td>
                    <td class="text-right cell-mono">&euro;3 800,00</td>
                    <td><span class="badge badge-success">R&eacute;current</span></td>
                    <td class="cell-secondary">15/08/2026</td>
                  </tr>
                  <tr>
                    <td class="cell-mono">4</td>
                    <td class="cell-name">Jean-Marc Rousseau</td>
                    <td class="text-right cell-mono">&euro;3 500,00</td>
                    <td><span class="badge badge-success">R&eacute;current</span></td>
                    <td class="cell-secondary">22/06/2026</td>
                  </tr>
                  <tr>
                    <td class="cell-mono">5</td>
                    <td class="cell-name">Entreprise Duval SA</td>
                    <td class="text-right cell-mono">&euro;3 000,00</td>
                    <td><span class="badge badge-info">Nouveau</span></td>
                    <td class="cell-secondary">05/08/2026</td>
                  </tr>
                  <tr>
                    <td class="cell-mono">6</td>
                    <td class="cell-name">Nadia Berger</td>
                    <td class="text-right cell-mono">&euro;2 750,00</td>
                    <td><span class="badge badge-success">R&eacute;current</span></td>
                    <td class="cell-secondary">18/07/2026</td>
                  </tr>
                  <tr>
                    <td class="cell-mono">7</td>
                    <td class="cell-name">Philippe &amp; Isabelle Moreau</td>
                    <td class="text-right cell-mono">&euro;2 500,00</td>
                    <td><span class="badge badge-success">R&eacute;current</span></td>
                    <td class="cell-secondary">01/07/2026</td>
                  </tr>
                  <tr>
                    <td class="cell-mono">8</td>
                    <td class="cell-name">Ahmed Benali</td>
                    <td class="text-right cell-mono">&euro;2 200,00</td>
                    <td><span class="badge badge-info">Nouveau</span></td>
                    <td class="cell-secondary">10/06/2026</td>
                  </tr>
                  <tr>
                    <td class="cell-mono">9</td>
                    <td class="cell-name">Groupe Leclaire</td>
                    <td class="text-right cell-mono">&euro;2 000,00</td>
                    <td><span class="badge badge-success">R&eacute;current</span></td>
                    <td class="cell-secondary">25/08/2026</td>
                  </tr>
                  <tr>
                    <td class="cell-mono">10</td>
                    <td class="cell-name">Sophie Martin</td>
                    <td class="text-right cell-mono">&euro;1 800,00</td>
                    <td><span class="badge badge-success">R&eacute;current</span></td>
                    <td class="cell-secondary">14/08/2026</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </main>
    </div>
  </div>

</body>
</html>
